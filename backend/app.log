2025-05-26 19:13:14,835 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-26 19:13:14,836 - services.scraper - INFO - Waiting 1.27 seconds before attempt 3/5
2025-05-26 19:13:16,104 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-26 19:13:19,698 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-26 19:13:19,699 - services.scraper - INFO - Waiting 2.95 seconds before attempt 4/5
2025-05-26 19:13:22,655 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-26 19:13:23,200 - werkzeug - INFO - 127.0.0.1 - - [26/May/2025 19:13:23] "GET /api/health HTTP/1.1" 200 -
2025-05-26 19:13:26,274 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-26 19:13:26,275 - services.scraper - INFO - Waiting 3.83 seconds before attempt 5/5
2025-05-26 19:13:30,111 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-26 19:13:34,157 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-26 19:13:34,158 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-26 19:13:34,158 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0D8QCJP5J
2025-05-26 19:13:39,549 - services.scraper - INFO - Successfully extracted product name from mobile site: beAAtho® Verona Mesh High Back Ergonomic Home Office Chair | 3-Years Limited Warranty by beAAtho, Tilting & Height Adjustable Mechanism, Heavy Duty Metal Base | Ideal for Office Work & Study (Grey)
2025-05-26 19:13:39,654 - services.scraper - INFO - Successfully scraped Amazon product: beAAtho® Verona Mesh High Back Ergonomic Home Office Chair | 3-Years Limited Warranty by beAAtho, Tilting & Height Adjustable Mechanism, Heavy Duty Metal Base | Ideal for Office Work & Study (Grey)
2025-05-26 19:13:39,680 - services.database - ERROR - Error inserting price record: (sqlite3.OperationalError) table price_records has no column named platform
[SQL: INSERT INTO price_records (product_id, price, platform, timestamp) VALUES (?, ?, ?, ?)]
[parameters: (6, 70.0, 'Amazon', '2025-05-26 13:43:39.679140')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-26 19:13:39,681 - routes.products - ERROR - Error adding product: (sqlite3.OperationalError) table price_records has no column named platform
[SQL: INSERT INTO price_records (product_id, price, platform, timestamp) VALUES (?, ?, ?, ?)]
[parameters: (6, 70.0, 'Amazon', '2025-05-26 13:43:39.679140')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-26 19:13:39,683 - werkzeug - INFO - 127.0.0.1 - - [26/May/2025 19:13:39] "[35m[1mPOST /api/products HTTP/1.1[0m" 500 -
2025-05-26 19:13:47,299 - werkzeug - INFO - 127.0.0.1 - - [26/May/2025 19:13:47] "GET /api/products HTTP/1.1" 200 -
2025-05-26 19:13:47,556 - werkzeug - INFO - 127.0.0.1 - - [26/May/2025 19:13:47] "GET /api/products HTTP/1.1" 200 -
2025-05-26 19:13:53,059 - werkzeug - INFO - 127.0.0.1 - - [26/May/2025 19:13:53] "GET /api/health HTTP/1.1" 200 -
2025-05-26 19:14:10,271 - werkzeug - INFO - 127.0.0.1 - - [26/May/2025 19:14:10] "OPTIONS /api/products HTTP/1.1" 200 -
2025-05-26 19:14:10,536 - werkzeug - INFO - 127.0.0.1 - - [26/May/2025 19:14:10] "POST /api/products HTTP/1.1" 200 -
2025-05-26 19:14:10,600 - werkzeug - INFO - 127.0.0.1 - - [26/May/2025 19:14:10] "GET /api/products HTTP/1.1" 200 -
2025-05-26 19:14:12,330 - services.database - ERROR - Error getting price history for product 6: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (6,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-26 19:14:12,333 - routes.products - ERROR - Error fetching product 6 with grouped history: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (6,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-26 19:14:12,336 - werkzeug - INFO - 127.0.0.1 - - [26/May/2025 19:14:12] "[35m[1mGET /api/products/6 HTTP/1.1[0m" 500 -
2025-05-26 19:14:12,656 - services.database - ERROR - Error getting price history for product 6: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (6,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-26 19:14:12,658 - routes.products - ERROR - Error fetching product 6 with grouped history: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (6,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-26 19:14:12,660 - werkzeug - INFO - 127.0.0.1 - - [26/May/2025 19:14:12] "[35m[1mGET /api/products/6 HTTP/1.1[0m" 500 -
2025-05-26 19:14:22,866 - werkzeug - INFO - 127.0.0.1 - - [26/May/2025 19:14:22] "GET /api/products HTTP/1.1" 200 -
2025-05-26 19:14:23,113 - werkzeug - INFO - 127.0.0.1 - - [26/May/2025 19:14:23] "GET /api/health HTTP/1.1" 200 -
2025-05-26 19:14:23,176 - werkzeug - INFO - 127.0.0.1 - - [26/May/2025 19:14:23] "GET /api/products HTTP/1.1" 200 -
2025-05-26 19:14:23,190 - werkzeug - INFO - 127.0.0.1 - - [26/May/2025 19:14:23] "GET /api/products HTTP/1.1" 200 -
2025-05-26 19:14:23,504 - werkzeug - INFO - 127.0.0.1 - - [26/May/2025 19:14:23] "GET /api/products HTTP/1.1" 200 -
2025-05-26 19:14:53,359 - werkzeug - INFO - 127.0.0.1 - - [26/May/2025 19:14:53] "GET /api/health HTTP/1.1" 200 -
2025-05-26 19:15:22,863 - werkzeug - INFO - 127.0.0.1 - - [26/May/2025 19:15:22] "GET /api/health HTTP/1.1" 200 -
2025-05-26 19:15:53,353 - werkzeug - INFO - 127.0.0.1 - - [26/May/2025 19:15:53] "GET /api/health HTTP/1.1" 200 -
2025-05-26 19:16:23,050 - werkzeug - INFO - 127.0.0.1 - - [26/May/2025 19:16:23] "GET /api/health HTTP/1.1" 200 -
2025-05-26 19:17:15,363 - werkzeug - INFO - 127.0.0.1 - - [26/May/2025 19:17:15] "GET /api/health HTTP/1.1" 200 -
2025-05-26 19:18:15,056 - werkzeug - INFO - 127.0.0.1 - - [26/May/2025 19:18:15] "GET /api/health HTTP/1.1" 200 -
2025-05-26 19:19:15,368 - werkzeug - INFO - 127.0.0.1 - - [26/May/2025 19:19:15] "GET /api/health HTTP/1.1" 200 -
2025-05-26 19:20:15,050 - werkzeug - INFO - 127.0.0.1 - - [26/May/2025 19:20:15] "GET /api/health HTTP/1.1" 200 -
2025-05-26 19:21:15,357 - werkzeug - INFO - 127.0.0.1 - - [26/May/2025 19:21:15] "GET /api/health HTTP/1.1" 200 -
2025-05-26 19:22:15,371 - werkzeug - INFO - 127.0.0.1 - - [26/May/2025 19:22:15] "GET /api/health HTTP/1.1" 200 -
2025-05-26 19:23:15,053 - werkzeug - INFO - 127.0.0.1 - - [26/May/2025 19:23:15] "GET /api/health HTTP/1.1" 200 -
2025-05-26 19:24:15,379 - werkzeug - INFO - 127.0.0.1 - - [26/May/2025 19:24:15] "GET /api/health HTTP/1.1" 200 -
2025-05-26 19:25:15,355 - werkzeug - INFO - 127.0.0.1 - - [26/May/2025 19:25:15] "GET /api/health HTTP/1.1" 200 -
2025-05-26 19:26:15,059 - werkzeug - INFO - 127.0.0.1 - - [26/May/2025 19:26:15] "GET /api/health HTTP/1.1" 200 -
2025-05-26 21:40:51,256 - werkzeug - INFO - 127.0.0.1 - - [26/May/2025 21:40:51] "GET /api/health HTTP/1.1" 200 -
2025-05-26 21:41:15,355 - werkzeug - INFO - 127.0.0.1 - - [26/May/2025 21:41:15] "GET /api/health HTTP/1.1" 200 -
2025-05-26 21:42:15,058 - werkzeug - INFO - 127.0.0.1 - - [26/May/2025 21:42:15] "GET /api/health HTTP/1.1" 200 -
2025-05-26 21:43:15,353 - werkzeug - INFO - 127.0.0.1 - - [26/May/2025 21:43:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 06:30:24,491 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 06:30:24] "GET /api/health HTTP/1.1" 200 -
2025-05-27 06:31:15,363 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 06:31:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 06:32:15,051 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 06:32:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 06:33:15,355 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 06:33:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 06:40:10,673 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 06:40:10] "GET /api/health HTTP/1.1" 200 -
2025-05-27 07:39:58,856 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 07:39:58] "GET /api/health HTTP/1.1" 200 -
2025-05-27 07:41:15,367 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 07:41:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 07:42:15,071 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 07:42:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 13:37:57,264 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 13:37:57] "GET /api/health HTTP/1.1" 200 -
2025-05-27 13:39:15,377 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 13:39:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 13:40:15,061 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 13:40:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 13:41:15,374 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 13:41:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 13:41:33,001 - apscheduler.executors.default - WARNING - Run time of job "update_all_prices (trigger: interval[0:30:00], next run at: 2025-05-26 19:40:55 IST)" was missed by 0:00:37.500773
2025-05-27 13:41:36,366 - apscheduler.executors.default - WARNING - Run time of job "update_all_prices (trigger: interval[0:30:00], next run at: 2025-05-26 19:40:58 IST)" was missed by 0:00:37.488066
2025-05-27 13:42:15,051 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 13:42:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 13:43:15,367 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 13:43:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 13:44:15,058 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 13:44:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 13:45:15,364 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 13:45:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 14:06:48,775 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 14:06:48] "GET /api/health HTTP/1.1" 200 -
2025-05-27 14:07:15,060 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 14:07:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 14:08:15,351 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 14:08:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 14:09:15,056 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 14:09:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 14:10:15,363 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 14:10:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 14:11:15,352 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 14:11:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:11:23,139 - __main__ - INFO - CORS configured for all origins (development mode)
2025-05-27 15:11:23,185 - models.db - INFO - Database tables created or verified
2025-05-27 15:11:23,188 - __main__ - INFO - Initializing scheduler for non-serverless environment
2025-05-27 15:11:23,188 - __main__ - INFO - Scheduler config: check_interval=30m, max_products=100
2025-05-27 15:11:28,903 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-27 15:11:28,907 - apscheduler.scheduler - INFO - Added job "update_all_prices" to job store "default"
2025-05-27 15:11:28,910 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 15:11:28,915 - __main__ - INFO - Price update scheduler started with interval: 30 minutes
2025-05-27 15:11:28,986 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.127.187:5000
2025-05-27 15:11:28,986 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-27 15:11:29,017 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-27 15:11:32,220 - __main__ - INFO - CORS configured for all origins (development mode)
2025-05-27 15:11:32,252 - models.db - INFO - Database tables created or verified
2025-05-27 15:11:32,257 - __main__ - INFO - Initializing scheduler for non-serverless environment
2025-05-27 15:11:32,257 - __main__ - INFO - Scheduler config: check_interval=30m, max_products=100
2025-05-27 15:11:32,437 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-27 15:11:32,445 - apscheduler.scheduler - INFO - Added job "update_all_prices" to job store "default"
2025-05-27 15:11:32,448 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 15:11:32,451 - __main__ - INFO - Price update scheduler started with interval: 30 minutes
2025-05-27 15:11:32,472 - werkzeug - WARNING -  * Debugger is active!
2025-05-27 15:11:32,480 - werkzeug - INFO -  * Debugger PIN: 316-319-957
2025-05-27 15:11:54,748 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:11:54] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:11:54,772 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:11:54] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:11:55,011 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:11:55] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:11:55,059 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:11:55] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:11:55,092 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:11:55] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:11:55,372 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:11:55] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:12:25,054 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:12:25] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:12:49,027 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\flask\\wrappers.py', reloading
2025-05-27 15:12:49,068 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\werkzeug\\wrappers\\__init__.py', reloading
2025-05-27 15:12:49,082 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\werkzeug\\wrappers\\request.py', reloading
2025-05-27 15:12:49,194 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\werkzeug\\sansio\\request.py', reloading
2025-05-27 15:12:49,213 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\flask\\json\\__init__.py', reloading
2025-05-27 15:12:49,231 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\werkzeug\\wrappers\\response.py', reloading
2025-05-27 15:12:49,256 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\werkzeug\\sansio\\response.py', reloading
2025-05-27 15:12:49,502 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-05-27 15:12:49,749 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-27 15:12:52,195 - __main__ - INFO - CORS configured for all origins (development mode)
2025-05-27 15:12:52,215 - models.db - INFO - Database tables created or verified
2025-05-27 15:12:52,219 - __main__ - INFO - Initializing scheduler for non-serverless environment
2025-05-27 15:12:52,220 - __main__ - INFO - Scheduler config: check_interval=30m, max_products=100
2025-05-27 15:12:52,269 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-27 15:12:52,271 - apscheduler.scheduler - INFO - Added job "update_all_prices" to job store "default"
2025-05-27 15:12:52,271 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 15:12:52,271 - __main__ - INFO - Price update scheduler started with interval: 30 minutes
2025-05-27 15:12:52,285 - werkzeug - WARNING -  * Debugger is active!
2025-05-27 15:12:52,289 - werkzeug - INFO -  * Debugger PIN: 316-319-957
2025-05-27 15:12:55,361 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:12:55] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:13:25,046 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:13:25] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:13:55,360 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:13:55] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:14:25,048 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:14:25] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:14:55,351 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:14:55] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:15:24,447 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:15:24] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:15:55,379 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:15:55] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:16:25,044 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:16:25] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:16:54,759 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:16:54] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:17:24,456 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:17:24] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:17:54,762 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:17:54] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:18:24,446 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:18:24] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:18:54,762 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:18:54] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:19:24,444 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:19:24] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:19:54,755 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:19:54] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:20:24,454 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:20:24] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:20:54,770 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:20:54] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:21:25,049 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:21:25] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:21:55,360 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:21:55] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:23:15,350 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:23:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:24:15,046 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:24:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:25:15,362 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:25:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:26:15,052 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:26:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:27:05,065 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:27:05] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:27:15,996 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:27:15] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:27:16,308 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:27:16] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:27:24,756 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:27:24] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:27:54,455 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:27:54] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:28:18,451 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:28:18] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:28:18,714 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:28:18] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:28:24,450 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:28:24] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:28:54,765 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:28:54] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:29:25,045 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:29:25] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:29:55,363 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:29:55] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:30:25,055 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:30:25] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:30:55,354 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:30:55] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:31:30,242 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\_pytest\\cacheprovider.py', reloading
2025-05-27 15:31:30,296 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-05-27 15:31:30,457 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-27 15:31:32,164 - __main__ - INFO - CORS configured for all origins (development mode)
2025-05-27 15:31:32,184 - models.db - INFO - Database tables created or verified
2025-05-27 15:31:32,187 - __main__ - INFO - Initializing scheduler for non-serverless environment
2025-05-27 15:31:32,188 - __main__ - INFO - Scheduler config: check_interval=30m, max_products=100
2025-05-27 15:31:32,238 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-27 15:31:32,239 - apscheduler.scheduler - INFO - Added job "update_all_prices" to job store "default"
2025-05-27 15:31:32,239 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 15:31:32,240 - __main__ - INFO - Price update scheduler started with interval: 30 minutes
2025-05-27 15:31:32,257 - werkzeug - WARNING -  * Debugger is active!
2025-05-27 15:31:32,263 - werkzeug - INFO -  * Debugger PIN: 316-319-957
2025-05-27 15:32:15,375 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:32:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:33:15,047 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:33:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:34:15,346 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:34:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:34:50,148 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\dotenv\\__init__.py', reloading
2025-05-27 15:34:50,162 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\dotenv\\main.py', reloading
2025-05-27 15:34:50,195 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\apscheduler\\schedulers\\background.py', reloading
2025-05-27 15:34:50,208 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\apscheduler\\schedulers\\blocking.py', reloading
2025-05-27 15:34:50,227 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\apscheduler\\schedulers\\base.py', reloading
2025-05-27 15:34:50,269 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\six.py', reloading
2025-05-27 15:34:50,291 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-05-27 15:34:50,474 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-27 15:34:52,534 - __main__ - INFO - CORS configured for all origins (development mode)
2025-05-27 15:34:52,558 - models.db - INFO - Database tables created or verified
2025-05-27 15:34:52,561 - __main__ - INFO - Initializing scheduler for non-serverless environment
2025-05-27 15:34:52,562 - __main__ - INFO - Scheduler config: check_interval=30m, max_products=100
2025-05-27 15:34:52,622 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-27 15:34:52,624 - apscheduler.scheduler - INFO - Added job "update_all_prices" to job store "default"
2025-05-27 15:34:52,624 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 15:34:52,625 - __main__ - INFO - Price update scheduler started with interval: 30 minutes
2025-05-27 15:34:52,637 - werkzeug - WARNING -  * Debugger is active!
2025-05-27 15:34:52,642 - werkzeug - INFO -  * Debugger PIN: 316-319-957
2025-05-27 15:35:00,267 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\exc.py', reloading
2025-05-27 15:35:00,297 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\sql\\expression.py', reloading
2025-05-27 15:35:00,327 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\sql\\functions.py', reloading
2025-05-27 15:35:00,381 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\sql\\_elements_constructors.py', reloading
2025-05-27 15:35:00,418 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\sql\\_typing.py', reloading
2025-05-27 15:35:00,476 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\sql\\elements.py', reloading
2025-05-27 15:35:00,541 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\sql\\operators.py', reloading
2025-05-27 15:35:00,581 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\sql\\traversals.py', reloading
2025-05-27 15:35:00,613 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\sql\\lambdas.py', reloading
2025-05-27 15:35:00,670 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\scoping.py', reloading
2025-05-27 15:35:00,697 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py', reloading
2025-05-27 15:35:00,736 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\flask_sqlalchemy\\session.py', reloading
2025-05-27 15:35:00,748 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\flask_sqlalchemy\\table.py', reloading
2025-05-27 15:35:00,755 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-05-27 15:35:00,931 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-27 15:35:02,512 - __main__ - INFO - CORS configured for all origins (development mode)
2025-05-27 15:35:02,531 - models.db - INFO - Database tables created or verified
2025-05-27 15:35:02,534 - __main__ - INFO - Initializing scheduler for non-serverless environment
2025-05-27 15:35:02,534 - __main__ - INFO - Scheduler config: check_interval=30m, max_products=100
2025-05-27 15:35:02,579 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-27 15:35:02,581 - apscheduler.scheduler - INFO - Added job "update_all_prices" to job store "default"
2025-05-27 15:35:02,581 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 15:35:02,582 - __main__ - INFO - Price update scheduler started with interval: 30 minutes
2025-05-27 15:35:02,594 - werkzeug - WARNING -  * Debugger is active!
2025-05-27 15:35:02,598 - werkzeug - INFO -  * Debugger PIN: 316-319-957
2025-05-27 15:35:15,355 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:35:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:35:20,089 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\deprecations.py', reloading
2025-05-27 15:35:20,813 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-05-27 15:35:20,950 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-27 15:35:22,541 - __main__ - INFO - CORS configured for all origins (development mode)
2025-05-27 15:35:22,559 - models.db - INFO - Database tables created or verified
2025-05-27 15:35:22,563 - __main__ - INFO - Initializing scheduler for non-serverless environment
2025-05-27 15:35:22,563 - __main__ - INFO - Scheduler config: check_interval=30m, max_products=100
2025-05-27 15:35:22,610 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-27 15:35:22,611 - apscheduler.scheduler - INFO - Added job "update_all_prices" to job store "default"
2025-05-27 15:35:22,612 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 15:35:22,612 - __main__ - INFO - Price update scheduler started with interval: 30 minutes
2025-05-27 15:35:22,625 - werkzeug - WARNING -  * Debugger is active!
2025-05-27 15:35:22,629 - werkzeug - INFO -  * Debugger PIN: 316-319-957
2025-05-27 15:36:15,346 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:36:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:36:33,086 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\OneDrive\\Desktop\\alfaleus-internship\\backend\\services\\scraper.py', reloading
2025-05-27 15:36:33,098 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\OneDrive\\Desktop\\alfaleus-internship\\backend\\services\\scraper.py', reloading
2025-05-27 15:36:33,626 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-05-27 15:36:33,816 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-27 15:36:35,435 - __main__ - INFO - CORS configured for all origins (development mode)
2025-05-27 15:36:35,453 - models.db - INFO - Database tables created or verified
2025-05-27 15:36:35,456 - __main__ - INFO - Initializing scheduler for non-serverless environment
2025-05-27 15:36:35,456 - __main__ - INFO - Scheduler config: check_interval=30m, max_products=100
2025-05-27 15:36:35,510 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-27 15:36:35,511 - apscheduler.scheduler - INFO - Added job "update_all_prices" to job store "default"
2025-05-27 15:36:35,513 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 15:36:35,513 - __main__ - INFO - Price update scheduler started with interval: 30 minutes
2025-05-27 15:36:35,526 - werkzeug - WARNING -  * Debugger is active!
2025-05-27 15:36:35,529 - werkzeug - INFO -  * Debugger PIN: 316-319-957
2025-05-27 15:36:48,615 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\OneDrive\\Desktop\\alfaleus-internship\\backend\\services\\scraper.py', reloading
2025-05-27 15:36:48,618 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\OneDrive\\Desktop\\alfaleus-internship\\backend\\services\\scraper.py', reloading
2025-05-27 15:36:48,628 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\OneDrive\\Desktop\\alfaleus-internship\\backend\\services\\scraper.py', reloading
2025-05-27 15:36:48,691 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-05-27 15:36:48,870 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-27 15:36:50,507 - __main__ - INFO - CORS configured for all origins (development mode)
2025-05-27 15:36:50,526 - models.db - INFO - Database tables created or verified
2025-05-27 15:36:50,529 - __main__ - INFO - Initializing scheduler for non-serverless environment
2025-05-27 15:36:50,530 - __main__ - INFO - Scheduler config: check_interval=30m, max_products=100
2025-05-27 15:36:50,578 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-27 15:36:50,580 - apscheduler.scheduler - INFO - Added job "update_all_prices" to job store "default"
2025-05-27 15:36:50,580 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 15:36:50,581 - __main__ - INFO - Price update scheduler started with interval: 30 minutes
2025-05-27 15:36:50,593 - werkzeug - WARNING -  * Debugger is active!
2025-05-27 15:36:50,596 - werkzeug - INFO -  * Debugger PIN: 316-319-957
2025-05-27 15:37:15,356 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:37:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:38:15,046 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:38:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:39:15,353 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:39:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:40:15,052 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:40:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:40:31,408 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:40:31] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:40:31,421 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:40:31] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:41:02,125 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:41:02] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:41:02,429 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:41:02] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:41:02,433 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:41:02] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:41:02,746 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:41:02] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:41:02,748 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:41:02] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:41:03,061 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:41:03] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:41:13,372 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:41:13] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:41:13,379 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:41:13] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:41:13,638 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:41:13] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:41:28,927 - apscheduler.executors.default - INFO - Running job "update_all_prices (trigger: interval[0:30:00], next run at: 2025-05-27 15:41:28 IST)" (scheduled at 2025-05-27 15:41:28.902946+05:30)
2025-05-27 15:41:28,938 - services.scheduler - INFO - Starting scheduled price update with smart prioritization
2025-05-27 15:41:29,060 - services.scheduler - INFO - Found 6 products to evaluate for updates
2025-05-27 15:41:29,070 - services.scheduler - WARNING - Error calculating volatility for product 1: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.price AS price_records_price 
FROM price_records 
WHERE price_records.product_id = ? AND price_records.platform = ? AND price_records.timestamp >= ?]
[parameters: (1, 'Amazon', '2025-05-20 10:11:28.937314')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:41:29,091 - services.scheduler - ERROR - Error calculating priority for product 1: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? AND price_records.timestamp >= ? ORDER BY price_records.timestamp DESC
 LIMIT ? OFFSET ?]
[parameters: (1, '2025-05-25 10:11:28.937314', 5, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:41:29,165 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\context.py', reloading
2025-05-27 15:41:29,219 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py', reloading
2025-05-27 15:41:29,274 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\default.py', reloading
2025-05-27 15:41:29,279 - services.scheduler - WARNING - Error calculating volatility for product 2: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.price AS price_records_price 
FROM price_records 
WHERE price_records.product_id = ? AND price_records.platform = ? AND price_records.timestamp >= ?]
[parameters: (2, 'Amazon', '2025-05-20 10:11:28.937314')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:41:29,285 - services.scheduler - ERROR - Error calculating priority for product 2: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? AND price_records.timestamp >= ? ORDER BY price_records.timestamp DESC
 LIMIT ? OFFSET ?]
[parameters: (2, '2025-05-25 10:11:28.937314', 5, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:41:29,292 - services.scheduler - WARNING - Error calculating volatility for product 3: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.price AS price_records_price 
FROM price_records 
WHERE price_records.product_id = ? AND price_records.platform = ? AND price_records.timestamp >= ?]
[parameters: (3, 'Amazon', '2025-05-20 10:11:28.937314')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:41:29,298 - services.scheduler - ERROR - Error calculating priority for product 3: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? AND price_records.timestamp >= ? ORDER BY price_records.timestamp DESC
 LIMIT ? OFFSET ?]
[parameters: (3, '2025-05-25 10:11:28.937314', 5, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:41:29,306 - services.scheduler - WARNING - Error calculating volatility for product 4: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.price AS price_records_price 
FROM price_records 
WHERE price_records.product_id = ? AND price_records.platform = ? AND price_records.timestamp >= ?]
[parameters: (4, 'Amazon', '2025-05-20 10:11:28.937314')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:41:29,311 - services.scheduler - ERROR - Error calculating priority for product 4: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? AND price_records.timestamp >= ? ORDER BY price_records.timestamp DESC
 LIMIT ? OFFSET ?]
[parameters: (4, '2025-05-25 10:11:28.937314', 5, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:41:29,317 - services.scheduler - WARNING - Error calculating volatility for product 5: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.price AS price_records_price 
FROM price_records 
WHERE price_records.product_id = ? AND price_records.platform = ? AND price_records.timestamp >= ?]
[parameters: (5, 'Amazon', '2025-05-20 10:11:28.937314')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:41:29,323 - services.scheduler - ERROR - Error calculating priority for product 5: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? AND price_records.timestamp >= ? ORDER BY price_records.timestamp DESC
 LIMIT ? OFFSET ?]
[parameters: (5, '2025-05-25 10:11:28.937314', 5, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:41:29,330 - services.scheduler - WARNING - Error calculating volatility for product 6: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.price AS price_records_price 
FROM price_records 
WHERE price_records.product_id = ? AND price_records.platform = ? AND price_records.timestamp >= ?]
[parameters: (6, 'Amazon', '2025-05-20 10:11:28.937314')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:41:29,334 - services.scheduler - ERROR - Error calculating priority for product 6: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? AND price_records.timestamp >= ? ORDER BY price_records.timestamp DESC
 LIMIT ? OFFSET ?]
[parameters: (6, '2025-05-25 10:11:28.937314', 5, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:41:29,338 - services.scheduler - INFO - Priority order for this update run:
2025-05-27 15:41:29,339 - services.scheduler - INFO -   1. Product 1: MSI PRO MP225 21.5 Inch Full HD Office Monitor - 1920 x 1080 IPS Panel, 100 Hz, Eye-Friendly Screen, Tilt-Adjustable - HDMI, D-Sub (VGA) - Score: 1.81 (Time: 1.81, Volatility: 0.50, Alerts: 1.00, Recent changes: 0.00)
2025-05-27 15:41:29,340 - services.scheduler - INFO -   2. Product 2: Nutrabay Gold Vital Whey Protein Powder - 1kg, Gourmet Vanilla | 20g Protein for Beginners | Added Vitamins & Minerals | Muscle Growth & Faster Recovery | Gym Supplement for Men & Women - Score: 1.72 (Time: 1.72, Volatility: 0.50, Alerts: 0.00, Recent changes: 0.00)
2025-05-27 15:41:29,341 - services.scheduler - INFO -   3. Product 3: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) - Score: 1.72 (Time: 1.72, Volatility: 0.50, Alerts: 0.00, Recent changes: 0.00)
2025-05-27 15:41:29,342 - services.scheduler - INFO -   4. Product 4: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) - Score: 1.14 (Time: 1.14, Volatility: 0.50, Alerts: 0.00, Recent changes: 0.00)
2025-05-27 15:41:29,343 - services.scheduler - INFO -   5. Product 5: Nivia Basic Ankle Support with Adjustable Velcro, Ankle Sleeves, Braces or Wraps, For Support & Stability, Free Size& Black Color, Used for All kind of impact Sports - Score: 0.85 (Time: 0.85, Volatility: 0.50, Alerts: 0.00, Recent changes: 0.00)
2025-05-27 15:41:29,344 - services.scheduler - INFO -   6. Product 6: beAAtho® Verona Mesh High Back Ergonomic Home Office Chair | 3-Years Limited Warranty by beAAtho, Tilting & Height Adjustable Mechanism, Heavy Duty Metal Base | Ideal for Office Work & Study (Grey) - Score: 0.85 (Time: 0.85, Volatility: 0.50, Alerts: 0.00, Recent changes: 0.00)
2025-05-27 15:41:29,345 - services.scheduler - INFO - Processing product 1/6: MSI PRO MP225 21.5 Inch Full HD Office Monitor - 1920 x 1080 IPS Panel, 100 Hz, Eye-Friendly Screen, Tilt-Adjustable - HDMI, D-Sub (VGA) (ID: 1, Priority: 1.81)
2025-05-27 15:41:29,346 - services.scheduler - INFO - Updating prices for product: MSI PRO MP225 21.5 Inch Full HD Office Monitor - 1920 x 1080 IPS Panel, 100 Hz, Eye-Friendly Screen, Tilt-Adjustable - HDMI, D-Sub (VGA) (ID: 1)
2025-05-27 15:41:29,347 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0D7LKX76Y
2025-05-27 15:41:29,348 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 15:41:29,349 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 15:41:29,349 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0D7LKX76Y
2025-05-27 15:41:29,350 - services.scraper - INFO - Extracted product ID from URL: B0D7LKX76Y
2025-05-27 15:41:29,351 - services.scraper - INFO - Waiting 1.66 seconds before attempt 1/5
2025-05-27 15:41:29,960 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-05-27 15:41:30,372 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-27 15:41:31,017 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 15:41:33,617 - __main__ - INFO - CORS configured for all origins (development mode)
2025-05-27 15:41:33,663 - models.db - INFO - Database tables created or verified
2025-05-27 15:41:33,677 - __main__ - INFO - Initializing scheduler for non-serverless environment
2025-05-27 15:41:33,678 - __main__ - INFO - Scheduler config: check_interval=30m, max_products=100
2025-05-27 15:41:33,836 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-27 15:41:33,840 - apscheduler.scheduler - INFO - Added job "update_all_prices" to job store "default"
2025-05-27 15:41:33,840 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 15:41:33,841 - __main__ - INFO - Price update scheduler started with interval: 30 minutes
2025-05-27 15:41:33,885 - werkzeug - WARNING -  * Debugger is active!
2025-05-27 15:41:33,893 - werkzeug - INFO -  * Debugger PIN: 316-319-957
2025-05-27 15:41:38,705 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 15:41:38,706 - services.scraper - INFO - Waiting 1.34 seconds before attempt 2/5
2025-05-27 15:41:40,053 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 15:41:43,296 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 15:41:43,297 - services.scraper - INFO - Waiting 1.91 seconds before attempt 3/5
2025-05-27 15:41:44,366 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:41:44] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:41:45,203 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 15:41:48,683 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 15:41:48,683 - services.scraper - INFO - Waiting 1.92 seconds before attempt 4/5
2025-05-27 15:41:50,600 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 15:41:54,237 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 15:41:54,237 - services.scraper - INFO - Waiting 3.44 seconds before attempt 5/5
2025-05-27 15:41:57,676 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 15:42:01,211 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 15:42:01,211 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 15:42:01,212 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0D7LKX76Y
2025-05-27 15:42:05,042 - services.scraper - INFO - Successfully extracted product name from mobile site: Consider these available items
2025-05-27 15:42:05,051 - services.scraper - INFO - Successfully scraped Amazon product: Consider these available items
2025-05-27 15:42:05,052 - services.scheduler - ERROR - Error updating main platform price for product 1: 'recorded_at' is an invalid keyword argument for PriceRecord
2025-05-27 15:42:05,111 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0D7LKX76Y
2025-05-27 15:42:05,112 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 15:42:05,112 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 15:42:05,113 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0D7LKX76Y
2025-05-27 15:42:05,113 - services.scraper - INFO - Extracted product ID from URL: B0D7LKX76Y
2025-05-27 15:42:05,114 - services.scraper - INFO - Waiting 1.03 seconds before attempt 1/5
2025-05-27 15:42:05,114 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\decl_base.py', reloading
2025-05-27 15:42:05,597 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-05-27 15:42:05,899 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-27 15:42:06,149 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 15:42:09,301 - __main__ - INFO - CORS configured for all origins (development mode)
2025-05-27 15:42:09,336 - models.db - INFO - Database tables created or verified
2025-05-27 15:42:09,340 - __main__ - INFO - Initializing scheduler for non-serverless environment
2025-05-27 15:42:09,341 - __main__ - INFO - Scheduler config: check_interval=30m, max_products=100
2025-05-27 15:42:09,417 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-27 15:42:09,421 - apscheduler.scheduler - INFO - Added job "update_all_prices" to job store "default"
2025-05-27 15:42:09,422 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 15:42:09,423 - __main__ - INFO - Price update scheduler started with interval: 30 minutes
2025-05-27 15:42:09,444 - werkzeug - WARNING -  * Debugger is active!
2025-05-27 15:42:09,449 - werkzeug - INFO -  * Debugger PIN: 316-319-957
2025-05-27 15:42:09,835 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 15:42:09,835 - services.scraper - INFO - Waiting 1.89 seconds before attempt 2/5
2025-05-27 15:42:11,725 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 15:42:14,369 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:42:14] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:42:15,050 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 15:42:15,050 - services.scraper - INFO - Waiting 2.41 seconds before attempt 3/5
2025-05-27 15:42:17,462 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 15:42:20,042 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:42:20] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:42:20,331 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:42:20] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:42:20,368 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:42:20] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:42:20,648 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:42:20] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:42:20,683 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:42:20] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:42:20,793 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 15:42:20,794 - services.scraper - INFO - Waiting 2.48 seconds before attempt 4/5
2025-05-27 15:42:21,000 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:42:20] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:42:23,273 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 15:42:27,550 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 15:42:27,551 - services.scraper - INFO - Waiting 3.55 seconds before attempt 5/5
2025-05-27 15:42:31,099 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 15:42:35,105 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:42:35] "OPTIONS /api/products HTTP/1.1" 200 -
2025-05-27 15:42:35,368 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B06Y1YYB25
2025-05-27 15:42:35,370 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 15:42:35,371 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 15:42:35,371 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B06Y1YYB25
2025-05-27 15:42:35,372 - services.scraper - INFO - Extracted product ID from URL: B06Y1YYB25
2025-05-27 15:42:35,373 - services.scraper - INFO - Waiting 1.34 seconds before attempt 1/5
2025-05-27 15:42:36,276 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 15:42:36,277 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 15:42:36,278 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0D7LKX76Y
2025-05-27 15:42:36,716 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 15:42:40,990 - services.scraper - INFO - Successfully extracted product name from mobile site: Consider these available items
2025-05-27 15:42:40,998 - services.scraper - INFO - Successfully scraped Amazon product: Consider these available items
2025-05-27 15:42:41,194 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 15:42:41,195 - services.scraper - INFO - Waiting 1.48 seconds before attempt 2/5
2025-05-27 15:42:42,676 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 15:42:43,139 - services.ai_service - ERROR - Error enhancing metadata with Gemini AI: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 15:42:44,469 - services.ai_service - INFO - Successfully parsed Groq AI response for product: Consider these available items
2025-05-27 15:42:45,422 - services.scheduler - ERROR - Error searching/scraping other platforms for product 1: 'NoneType' object has no attribute 'strip'
2025-05-27 15:42:45,425 - services.scheduler - ERROR - Error updating product 1 (attempt 1/3): 'NoneType' object has no attribute 'strip'
2025-05-27 15:42:45,444 - services.scheduler - INFO - Retry attempt 2 for product 1 after 2.66s delay
2025-05-27 15:42:46,261 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 15:42:46,262 - services.scraper - INFO - Waiting 2.59 seconds before attempt 3/5
2025-05-27 15:42:48,109 - services.scheduler - INFO - Updating prices for product: MSI PRO MP225 21.5 Inch Full HD Office Monitor - 1920 x 1080 IPS Panel, 100 Hz, Eye-Friendly Screen, Tilt-Adjustable - HDMI, D-Sub (VGA) (ID: 1)
2025-05-27 15:42:48,110 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0D7LKX76Y
2025-05-27 15:42:48,111 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 15:42:48,113 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 15:42:48,113 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0D7LKX76Y
2025-05-27 15:42:48,114 - services.scraper - INFO - Extracted product ID from URL: B0D7LKX76Y
2025-05-27 15:42:48,115 - services.scraper - INFO - Waiting 1.10 seconds before attempt 1/5
2025-05-27 15:42:48,857 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 15:42:49,216 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 15:42:50,025 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:42:50] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:42:52,383 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 15:42:52,384 - services.scraper - INFO - Waiting 1.93 seconds before attempt 2/5
2025-05-27 15:42:52,437 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 15:42:52,437 - services.scraper - INFO - Waiting 1.32 seconds before attempt 4/5
2025-05-27 15:42:53,761 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 15:42:54,311 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 15:42:57,180 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 15:42:57,181 - services.scraper - INFO - Waiting 2.41 seconds before attempt 5/5
2025-05-27 15:42:57,761 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 15:42:57,762 - services.scraper - INFO - Waiting 1.19 seconds before attempt 3/5
2025-05-27 15:42:58,954 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 15:42:59,594 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 15:43:02,248 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 15:43:02,249 - services.scraper - INFO - Waiting 1.50 seconds before attempt 4/5
2025-05-27 15:43:03,321 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 15:43:03,322 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 15:43:03,323 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B06Y1YYB25
2025-05-27 15:43:03,749 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 15:43:07,293 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 15:43:07,294 - services.scraper - INFO - Waiting 1.51 seconds before attempt 5/5
2025-05-27 15:43:08,256 - services.scraper - INFO - Successfully extracted product name from mobile site: Casio FX-CG50 Scientific Graphic Calculator (Black)
2025-05-27 15:43:08,357 - services.scraper - INFO - Successfully scraped Amazon product: Casio FX-CG50 Scientific Graphic Calculator (Black)
2025-05-27 15:43:08,404 - services.database - ERROR - Error inserting price record: (sqlite3.OperationalError) table price_records has no column named platform
[SQL: INSERT INTO price_records (product_id, price, platform, timestamp) VALUES (?, ?, ?, ?)]
[parameters: (7, 13994.0, 'Amazon', '2025-05-27 10:13:08.403043')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:43:08,405 - routes.products - ERROR - Error adding product: (sqlite3.OperationalError) table price_records has no column named platform
[SQL: INSERT INTO price_records (product_id, price, platform, timestamp) VALUES (?, ?, ?, ?)]
[parameters: (7, 13994.0, 'Amazon', '2025-05-27 10:13:08.403043')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:43:08,407 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:43:08] "[35m[1mPOST /api/products HTTP/1.1[0m" 500 -
2025-05-27 15:43:08,806 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 15:43:12,496 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 15:43:12,497 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 15:43:12,498 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0D7LKX76Y
2025-05-27 15:43:16,067 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:43:16] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:43:16,079 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:43:16] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:43:16,294 - services.scraper - INFO - Successfully extracted product name from mobile site: Consider these available items
2025-05-27 15:43:16,304 - services.scraper - INFO - Successfully scraped Amazon product: Consider these available items
2025-05-27 15:43:16,305 - services.scheduler - ERROR - Error updating main platform price for product 1: 'recorded_at' is an invalid keyword argument for PriceRecord
2025-05-27 15:43:16,307 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0D7LKX76Y
2025-05-27 15:43:16,307 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 15:43:16,307 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 15:43:16,308 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0D7LKX76Y
2025-05-27 15:43:16,308 - services.scraper - INFO - Extracted product ID from URL: B0D7LKX76Y
2025-05-27 15:43:16,308 - services.scraper - INFO - Waiting 1.68 seconds before attempt 1/5
2025-05-27 15:43:16,324 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:43:16] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:43:16,394 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:43:16] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:43:16,410 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:43:16] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:43:16,734 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:43:16] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:43:17,990 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 15:43:21,336 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 15:43:21,336 - services.scraper - INFO - Waiting 1.99 seconds before attempt 2/5
2025-05-27 15:43:23,325 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 15:43:25,827 - services.database - ERROR - Error getting price history for product 7: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (7,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:43:25,828 - routes.products - ERROR - Error fetching product 7 with grouped history: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (7,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:43:25,830 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:43:25] "[35m[1mGET /api/products/7 HTTP/1.1[0m" 500 -
2025-05-27 15:43:26,094 - services.database - ERROR - Error getting price history for product 7: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (7,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:43:26,097 - routes.products - ERROR - Error fetching product 7 with grouped history: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (7,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:43:26,100 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:43:26] "[35m[1mGET /api/products/7 HTTP/1.1[0m" 500 -
2025-05-27 15:43:26,647 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 15:43:26,648 - services.scraper - INFO - Waiting 1.34 seconds before attempt 3/5
2025-05-27 15:43:27,992 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 15:43:31,599 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 15:43:31,601 - services.scraper - INFO - Waiting 3.50 seconds before attempt 4/5
2025-05-27 15:43:35,102 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 15:43:38,537 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 15:43:38,537 - services.scraper - INFO - Waiting 3.40 seconds before attempt 5/5
2025-05-27 15:43:41,935 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 15:43:45,659 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:43:45] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:43:45,812 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 15:43:45,814 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 15:43:45,816 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0D7LKX76Y
2025-05-27 15:43:45,980 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:43:45] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:43:46,131 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:43:46] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:43:46,296 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:43:46] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:43:46,608 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:43:46] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:43:49,859 - services.scraper - INFO - Successfully extracted product name from mobile site: Consider these available items
2025-05-27 15:43:49,871 - services.scraper - INFO - Successfully scraped Amazon product: Consider these available items
2025-05-27 15:43:50,926 - services.ai_service - ERROR - Error enhancing metadata with Gemini AI: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 15:43:52,142 - services.ai_service - INFO - Successfully parsed Groq AI response for product: Consider these available items
2025-05-27 15:43:52,956 - services.scheduler - ERROR - Error searching/scraping other platforms for product 1: 'NoneType' object has no attribute 'strip'
2025-05-27 15:43:52,958 - services.scheduler - ERROR - Error updating product 1 (attempt 2/3): 'NoneType' object has no attribute 'strip'
2025-05-27 15:43:52,961 - services.scheduler - INFO - Retry attempt 3 for product 1 after 3.22s delay
2025-05-27 15:43:56,185 - services.scheduler - INFO - Updating prices for product: MSI PRO MP225 21.5 Inch Full HD Office Monitor - 1920 x 1080 IPS Panel, 100 Hz, Eye-Friendly Screen, Tilt-Adjustable - HDMI, D-Sub (VGA) (ID: 1)
2025-05-27 15:43:56,186 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0D7LKX76Y
2025-05-27 15:43:56,186 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 15:43:56,186 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 15:43:56,187 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0D7LKX76Y
2025-05-27 15:43:56,188 - services.scraper - INFO - Extracted product ID from URL: B0D7LKX76Y
2025-05-27 15:43:56,188 - services.scraper - INFO - Waiting 1.29 seconds before attempt 1/5
2025-05-27 15:43:57,482 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 15:44:00,924 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 15:44:00,925 - services.scraper - INFO - Waiting 1.32 seconds before attempt 2/5
2025-05-27 15:44:02,247 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 15:44:05,804 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 15:44:05,805 - services.scraper - INFO - Waiting 1.49 seconds before attempt 3/5
2025-05-27 15:44:07,297 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 15:44:10,939 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 15:44:10,939 - services.scraper - INFO - Waiting 3.48 seconds before attempt 4/5
2025-05-27 15:44:14,419 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 15:44:16,357 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:44:16] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:44:17,581 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 15:44:17,582 - services.scraper - INFO - Waiting 1.88 seconds before attempt 5/5
2025-05-27 15:44:19,464 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 15:44:22,831 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 15:44:22,832 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 15:44:22,833 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0D7LKX76Y
2025-05-27 15:44:24,989 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\create.py', reloading
2025-05-27 15:44:25,049 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\url.py', reloading
2025-05-27 15:44:25,316 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\interfaces.py', reloading
2025-05-27 15:44:25,392 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\reflection.py', reloading
2025-05-27 15:44:25,441 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\pool\\__init__.py', reloading
2025-05-27 15:44:25,467 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\pool\\base.py', reloading
2025-05-27 15:44:25,514 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\pool\\impl.py', reloading
2025-05-27 15:44:25,872 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-05-27 15:44:26,384 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-27 15:44:26,660 - services.scraper - INFO - Successfully extracted product name from mobile site: Consider these available items
2025-05-27 15:44:26,673 - services.scraper - INFO - Successfully scraped Amazon product: Consider these available items
2025-05-27 15:44:26,682 - services.scheduler - ERROR - Error updating main platform price for product 1: 'recorded_at' is an invalid keyword argument for PriceRecord
2025-05-27 15:44:26,684 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0D7LKX76Y
2025-05-27 15:44:26,684 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 15:44:26,685 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 15:44:26,685 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0D7LKX76Y
2025-05-27 15:44:26,685 - services.scraper - INFO - Extracted product ID from URL: B0D7LKX76Y
2025-05-27 15:44:26,686 - services.scraper - INFO - Waiting 1.34 seconds before attempt 1/5
2025-05-27 15:44:28,029 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 15:44:30,082 - __main__ - INFO - CORS configured for all origins (development mode)
2025-05-27 15:44:30,125 - models.db - INFO - Database tables created or verified
2025-05-27 15:44:30,134 - __main__ - INFO - Initializing scheduler for non-serverless environment
2025-05-27 15:44:30,135 - __main__ - INFO - Scheduler config: check_interval=30m, max_products=100
2025-05-27 15:44:30,247 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-27 15:44:30,250 - apscheduler.scheduler - INFO - Added job "update_all_prices" to job store "default"
2025-05-27 15:44:30,250 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 15:44:30,252 - __main__ - INFO - Price update scheduler started with interval: 30 minutes
2025-05-27 15:44:30,273 - werkzeug - WARNING -  * Debugger is active!
2025-05-27 15:44:30,280 - werkzeug - INFO -  * Debugger PIN: 316-319-957
2025-05-27 15:44:31,328 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\werkzeug\\utils.py', reloading
2025-05-27 15:44:31,353 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-05-27 15:44:31,373 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 15:44:31,374 - services.scraper - INFO - Waiting 2.06 seconds before attempt 2/5
2025-05-27 15:44:31,678 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-27 15:44:33,440 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 15:44:34,390 - __main__ - INFO - CORS configured for all origins (development mode)
2025-05-27 15:44:34,427 - models.db - INFO - Database tables created or verified
2025-05-27 15:44:34,434 - __main__ - INFO - Initializing scheduler for non-serverless environment
2025-05-27 15:44:34,434 - __main__ - INFO - Scheduler config: check_interval=30m, max_products=100
2025-05-27 15:44:34,518 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-27 15:44:34,520 - apscheduler.scheduler - INFO - Added job "update_all_prices" to job store "default"
2025-05-27 15:44:34,521 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 15:44:34,522 - __main__ - INFO - Price update scheduler started with interval: 30 minutes
2025-05-27 15:44:34,547 - werkzeug - WARNING -  * Debugger is active!
2025-05-27 15:44:34,556 - werkzeug - INFO -  * Debugger PIN: 316-319-957
2025-05-27 15:44:35,362 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\werkzeug\\datastructures\\structures.py', reloading
2025-05-27 15:44:35,618 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-05-27 15:44:35,928 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-27 15:44:36,914 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 15:44:36,915 - services.scraper - INFO - Waiting 1.19 seconds before attempt 3/5
2025-05-27 15:44:38,108 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 15:44:39,206 - __main__ - INFO - CORS configured for all origins (development mode)
2025-05-27 15:44:39,246 - models.db - INFO - Database tables created or verified
2025-05-27 15:44:39,253 - __main__ - INFO - Initializing scheduler for non-serverless environment
2025-05-27 15:44:39,253 - __main__ - INFO - Scheduler config: check_interval=30m, max_products=100
2025-05-27 15:44:39,350 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-27 15:44:39,353 - apscheduler.scheduler - INFO - Added job "update_all_prices" to job store "default"
2025-05-27 15:44:39,353 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 15:44:39,354 - __main__ - INFO - Price update scheduler started with interval: 30 minutes
2025-05-27 15:44:39,374 - werkzeug - WARNING -  * Debugger is active!
2025-05-27 15:44:39,381 - werkzeug - INFO -  * Debugger PIN: 316-319-957
2025-05-27 15:44:41,719 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 15:44:41,720 - services.scraper - INFO - Waiting 2.46 seconds before attempt 4/5
2025-05-27 15:44:44,185 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 15:44:46,379 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:44:46] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:44:48,265 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 15:44:48,266 - services.scraper - INFO - Waiting 3.26 seconds before attempt 5/5
2025-05-27 15:44:51,532 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 15:44:52,052 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\sql\\coercions.py', reloading
2025-05-27 15:44:52,258 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\sql\\compiler.py', reloading
2025-05-27 15:44:52,483 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\sql\\_orm_types.py', reloading
2025-05-27 15:44:52,531 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\result.py', reloading
2025-05-27 15:44:52,630 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\sql\\dml.py', reloading
2025-05-27 15:44:52,665 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-05-27 15:44:53,049 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-27 15:44:55,236 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 15:44:55,237 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 15:44:55,237 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0D7LKX76Y
2025-05-27 15:44:55,967 - __main__ - INFO - CORS configured for all origins (development mode)
2025-05-27 15:44:56,021 - models.db - INFO - Database tables created or verified
2025-05-27 15:44:56,031 - __main__ - INFO - Initializing scheduler for non-serverless environment
2025-05-27 15:44:56,031 - __main__ - INFO - Scheduler config: check_interval=30m, max_products=100
2025-05-27 15:44:56,118 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-27 15:44:56,120 - apscheduler.scheduler - INFO - Added job "update_all_prices" to job store "default"
2025-05-27 15:44:56,120 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 15:44:56,120 - __main__ - INFO - Price update scheduler started with interval: 30 minutes
2025-05-27 15:44:56,137 - werkzeug - WARNING -  * Debugger is active!
2025-05-27 15:44:56,144 - werkzeug - INFO -  * Debugger PIN: 316-319-957
2025-05-27 15:44:59,219 - services.scraper - INFO - Successfully extracted product name from mobile site: Consider these available items
2025-05-27 15:44:59,229 - services.scraper - INFO - Successfully scraped Amazon product: Consider these available items
2025-05-27 15:45:01,275 - services.ai_service - ERROR - Error enhancing metadata with Gemini AI: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 15:45:02,795 - services.ai_service - INFO - Successfully parsed Groq AI response for product: Consider these available items
2025-05-27 15:45:03,686 - services.scheduler - ERROR - Error searching/scraping other platforms for product 1: 'NoneType' object has no attribute 'strip'
2025-05-27 15:45:03,688 - services.scheduler - ERROR - Error updating product 1 (attempt 3/3): 'NoneType' object has no attribute 'strip'
2025-05-27 15:45:03,693 - services.scheduler - ERROR - Failed to update product 1 after 3 attempts
2025-05-27 15:45:03,696 - services.scheduler - INFO - Processing product 2/6: Nutrabay Gold Vital Whey Protein Powder - 1kg, Gourmet Vanilla | 20g Protein for Beginners | Added Vitamins & Minerals | Muscle Growth & Faster Recovery | Gym Supplement for Men & Women (ID: 2, Priority: 1.72)
2025-05-27 15:45:05,161 - services.scheduler - INFO - Updating prices for product: Nutrabay Gold Vital Whey Protein Powder - 1kg, Gourmet Vanilla | 20g Protein for Beginners | Added Vitamins & Minerals | Muscle Growth & Faster Recovery | Gym Supplement for Men & Women (ID: 2)
2025-05-27 15:45:05,161 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0B97NZLD3
2025-05-27 15:45:05,162 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 15:45:05,162 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 15:45:05,163 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0B97NZLD3
2025-05-27 15:45:05,163 - services.scraper - INFO - Extracted product ID from URL: B0B97NZLD3
2025-05-27 15:45:05,164 - services.scraper - INFO - Waiting 1.42 seconds before attempt 1/5
2025-05-27 15:45:06,581 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 15:45:10,785 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 15:45:10,785 - services.scraper - INFO - Waiting 1.63 seconds before attempt 2/5
2025-05-27 15:45:12,418 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 15:45:16,371 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:45:16] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:45:16,635 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 15:45:16,635 - services.scraper - INFO - Waiting 2.02 seconds before attempt 3/5
2025-05-27 15:45:18,659 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 15:45:22,891 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 15:45:22,892 - services.scraper - INFO - Waiting 2.78 seconds before attempt 4/5
2025-05-27 15:45:25,676 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 15:45:27,463 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\flask\\testing.py', reloading
2025-05-27 15:45:27,493 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\werkzeug\\test.py', reloading
2025-05-27 15:45:27,541 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\flask\\ctx.py', reloading
2025-05-27 15:45:27,782 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-05-27 15:45:28,229 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-27 15:45:29,859 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 15:45:29,859 - services.scraper - INFO - Waiting 1.70 seconds before attempt 5/5
2025-05-27 15:45:31,556 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 15:45:31,581 - __main__ - INFO - CORS configured for all origins (development mode)
2025-05-27 15:45:31,611 - models.db - INFO - Database tables created or verified
2025-05-27 15:45:31,616 - __main__ - INFO - Initializing scheduler for non-serverless environment
2025-05-27 15:45:31,617 - __main__ - INFO - Scheduler config: check_interval=30m, max_products=100
2025-05-27 15:45:31,708 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-27 15:45:31,711 - apscheduler.scheduler - INFO - Added job "update_all_prices" to job store "default"
2025-05-27 15:45:31,711 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 15:45:31,713 - __main__ - INFO - Price update scheduler started with interval: 30 minutes
2025-05-27 15:45:31,732 - werkzeug - WARNING -  * Debugger is active!
2025-05-27 15:45:31,737 - werkzeug - INFO -  * Debugger PIN: 316-319-957
2025-05-27 15:45:35,565 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 15:45:35,565 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 15:45:35,566 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0B97NZLD3
2025-05-27 15:45:40,919 - services.scraper - INFO - Successfully extracted product name from mobile site: Nutrabay Gold Vital Whey Protein Powder - 1kg, Gourmet Vanilla | 20g Protein for Beginners | Added Vitamins & Minerals | Muscle Growth & Faster Recovery | Gym Supplement for Men & Women
2025-05-27 15:45:41,001 - services.scraper - INFO - Successfully scraped Amazon product: Nutrabay Gold Vital Whey Protein Powder - 1kg, Gourmet Vanilla | 20g Protein for Beginners | Added Vitamins & Minerals | Muscle Growth & Faster Recovery | Gym Supplement for Men & Women
2025-05-27 15:45:41,001 - services.scheduler - WARNING - Failed to scrape price for main product URL https://www.amazon.in/dp/B0B97NZLD3 (ID: 2)
2025-05-27 15:45:41,002 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0B97NZLD3
2025-05-27 15:45:41,003 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 15:45:41,003 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 15:45:41,004 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0B97NZLD3
2025-05-27 15:45:41,004 - services.scraper - INFO - Extracted product ID from URL: B0B97NZLD3
2025-05-27 15:45:41,005 - services.scraper - INFO - Waiting 1.12 seconds before attempt 1/5
2025-05-27 15:45:42,128 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 15:45:46,369 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:45:46] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:45:46,498 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 15:45:46,499 - services.scraper - INFO - Waiting 1.27 seconds before attempt 2/5
2025-05-27 15:45:47,770 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 15:45:51,824 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 15:45:51,825 - services.scraper - INFO - Waiting 2.91 seconds before attempt 3/5
2025-05-27 15:45:54,735 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 15:45:58,937 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 15:45:58,938 - services.scraper - INFO - Waiting 3.18 seconds before attempt 4/5
2025-05-27 15:46:02,116 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 15:46:06,211 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 15:46:06,212 - services.scraper - INFO - Waiting 3.03 seconds before attempt 5/5
2025-05-27 15:46:09,247 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 15:46:13,519 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 15:46:13,520 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 15:46:13,521 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0B97NZLD3
2025-05-27 15:46:16,049 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:46:16] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:46:18,744 - services.scraper - INFO - Successfully extracted product name from mobile site: Nutrabay Gold Vital Whey Protein Powder - 1kg, Gourmet Vanilla | 20g Protein for Beginners | Added Vitamins & Minerals | Muscle Growth & Faster Recovery | Gym Supplement for Men & Women
2025-05-27 15:46:18,796 - services.scraper - INFO - Successfully scraped Amazon product: Nutrabay Gold Vital Whey Protein Powder - 1kg, Gourmet Vanilla | 20g Protein for Beginners | Added Vitamins & Minerals | Muscle Growth & Faster Recovery | Gym Supplement for Men & Women
2025-05-27 15:46:21,292 - services.ai_service - ERROR - Error enhancing metadata with Gemini AI: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 15:46:22,388 - services.ai_service - INFO - Successfully parsed Groq AI response for product: Nutrabay Gold Vital Whey Protein Powder - 1kg, Gourmet Vanilla
2025-05-27 15:46:23,108 - services.ai_service - INFO - Starting product comparison for: Nutrabay Gold Vital Whey Protein Powder - 1kg, Gourmet Vanilla
2025-05-27 15:46:23,108 - services.ai_service - INFO - Brand: Nutrabay, Model: Gold Vital Whey Protein Powder
2025-05-27 15:46:23,109 - services.ai_service - INFO - Extracted keywords for search: ['nutrabay', 'gold vital whey protein powder', 'nutrabay', 'gold', 'vital', 'whey', 'protein', 'powder', '1kg,', 'gourmet', 'vanilla', 'nutrabay gold vital whey protein powder - 1kg, gourmet vanilla']
2025-05-27 15:46:23,109 - services.ai_service - INFO - Using optimized search query for comparison: Nutrabay Gold Vital Whey Protein Powder - 1kg, Gourmet Vanilla
2025-05-27 15:46:25,367 - services.ai_service - WARNING - Error using Gemini for platform search: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 15:46:26,803 - services.ai_service - WARNING - Invalid response structure from AI - expected a list of products
2025-05-27 15:46:26,804 - services.ai_service - WARNING - Value error processing AI response: Invalid response structure
2025-05-27 15:46:26,810 - services.scheduler - INFO - Found 5 potential comparisons for product 2 on other platforms.
2025-05-27 15:46:28,155 - services.flipkart_scraper - INFO - Attempting to scrape Flipkart price from: https://www.flipkart.com/search?q=Nutrabay Gold Vital Whey Protein Powder - 1kg, Gourmet Vanilla
2025-05-27 15:46:30,422 - services.flipkart_scraper - WARNING - Could not find price element for Flipkart URL: https://www.flipkart.com/search?q=Nutrabay Gold Vital Whey Protein Powder - 1kg, Gourmet Vanilla
2025-05-27 15:46:30,426 - services.scheduler - WARNING - Failed to scrape price from Flipkart URL: https://www.flipkart.com/search?q=Nutrabay Gold Vital Whey Protein Powder - 1kg, Gourmet Vanilla for product 2
2025-05-27 15:46:31,207 - services.scheduler - WARNING - Failed to scrape price from Snapdeal URL: https://www.snapdeal.com/search?keyword=Nutrabay Gold Vital Whey Protein Powder - 1kg, Gourmet Vanilla for product 2
2025-05-27 15:46:32,071 - services.scheduler - WARNING - Failed to scrape price from Reliance Digital URL: https://www.reliancedigital.in/search?q=Nutrabay Gold Vital Whey Protein Powder - 1kg, Gourmet Vanilla for product 2
2025-05-27 15:46:33,260 - services.scheduler - WARNING - Failed to scrape price from Tata Cliq URL: https://www.tatacliq.com/search/?searchCategory=all&text=Nutrabay Gold Vital Whey Protein Powder - 1kg, Gourmet Vanilla for product 2
2025-05-27 15:46:34,532 - services.scheduler - WARNING - Failed to scrape price from Croma URL: https://www.croma.com/searchB?q=Nutrabay Gold Vital Whey Protein Powder - 1kg, Gourmet Vanilla for product 2
2025-05-27 15:46:34,539 - services.scheduler - INFO - Successfully updated product 2 on attempt 1
2025-05-27 15:46:34,543 - services.scheduler - INFO - Processing product 3/6: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) (ID: 3, Priority: 1.72)
2025-05-27 15:46:35,681 - services.scheduler - INFO - Updating prices for product: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) (ID: 3)
2025-05-27 15:46:35,682 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0DSVS6P6G
2025-05-27 15:46:35,683 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 15:46:35,683 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 15:46:35,684 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0DSVS6P6G
2025-05-27 15:46:35,685 - services.scraper - INFO - Extracted product ID from URL: B0DSVS6P6G
2025-05-27 15:46:35,685 - services.scraper - INFO - Waiting 1.40 seconds before attempt 1/5
2025-05-27 15:46:37,091 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 15:46:41,111 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 15:46:41,112 - services.scraper - INFO - Waiting 2.07 seconds before attempt 2/5
2025-05-27 15:46:43,187 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 15:46:46,637 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 15:46:46,639 - services.scraper - INFO - Waiting 1.49 seconds before attempt 3/5
2025-05-27 15:46:48,128 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 15:46:52,064 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 15:46:52,065 - services.scraper - INFO - Waiting 1.66 seconds before attempt 4/5
2025-05-27 15:46:52,763 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:46:52] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:46:53,730 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 15:46:56,662 - services.database - ERROR - Error getting price history for product 7: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (7,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:46:56,665 - routes.products - ERROR - Error fetching product 7 with grouped history: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (7,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:46:56,669 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:46:56] "[35m[1mGET /api/products/7 HTTP/1.1[0m" 500 -
2025-05-27 15:46:56,996 - services.database - ERROR - Error getting price history for product 7: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (7,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:46:56,997 - routes.products - ERROR - Error fetching product 7 with grouped history: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (7,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:46:56,999 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:46:56] "[35m[1mGET /api/products/7 HTTP/1.1[0m" 500 -
2025-05-27 15:46:57,365 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 15:46:57,366 - services.scraper - INFO - Waiting 1.68 seconds before attempt 5/5
2025-05-27 15:46:59,043 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 15:47:03,152 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 15:47:03,153 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 15:47:03,154 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0DSVS6P6G
2025-05-27 15:47:09,927 - services.scraper - INFO - Successfully extracted product name from mobile site: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 15:47:10,112 - services.scraper - INFO - Successfully scraped Amazon product: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 15:47:10,113 - services.scheduler - ERROR - Error updating main platform price for product 3: 'recorded_at' is an invalid keyword argument for PriceRecord
2025-05-27 15:47:10,114 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0DSVS6P6G
2025-05-27 15:47:10,115 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 15:47:10,115 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 15:47:10,115 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0DSVS6P6G
2025-05-27 15:47:10,115 - services.scraper - INFO - Extracted product ID from URL: B0DSVS6P6G
2025-05-27 15:47:10,116 - services.scraper - INFO - Waiting 1.58 seconds before attempt 1/5
2025-05-27 15:47:11,698 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 15:47:15,537 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 15:47:15,539 - services.scraper - INFO - Waiting 1.62 seconds before attempt 2/5
2025-05-27 15:47:16,370 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:47:16] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:47:17,163 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 15:47:21,534 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 15:47:21,535 - services.scraper - INFO - Waiting 1.79 seconds before attempt 3/5
2025-05-27 15:47:23,324 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 15:47:27,647 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 15:47:27,648 - services.scraper - INFO - Waiting 3.40 seconds before attempt 4/5
2025-05-27 15:47:31,051 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 15:47:35,717 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 15:47:35,717 - services.scraper - INFO - Waiting 1.98 seconds before attempt 5/5
2025-05-27 15:47:37,700 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 15:47:42,177 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 15:47:42,178 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 15:47:42,179 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0DSVS6P6G
2025-05-27 15:47:46,050 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:47:46] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:47:51,122 - services.scraper - INFO - Successfully extracted product name from mobile site: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 15:47:51,535 - services.scraper - INFO - Successfully scraped Amazon product: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 15:47:54,332 - services.ai_service - ERROR - Error enhancing metadata with Gemini AI: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 15:47:56,132 - services.ai_service - INFO - Successfully parsed Groq AI response for product: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 15:47:57,258 - services.ai_service - INFO - Starting product comparison for: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 15:47:57,259 - services.ai_service - INFO - Brand: Panasonic, Model: CS/CU-SU18AKY3W
2025-05-27 15:47:57,259 - services.ai_service - INFO - Extracted keywords for search: ['panasonic', 'cs/cu-su18aky3w', 'panasonic', '1.5', 'star', 'premium', 'wi-fi', 'inverter', 'smart', 'split', '(matter', 'enabled,', 'higher', 'airflow,', 'copper', 'condenser,', '7in1', 'convertible,', 'true', '2-way,', '0.1', 'filter,', 'cs/cu-su18aky3w,', 'white)', 'panasonic 1.5 ton 3 star premium wi-fi inverter smart split ac (matter enabled, higher airflow, copper condenser, 7in1 convertible, true ai, 2-way, pm 0.1 filter, cs/cu-su18aky3w, white)']
2025-05-27 15:47:57,260 - services.ai_service - INFO - Using optimized search query for comparison: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 15:48:00,099 - services.ai_service - WARNING - Error using Gemini for platform search: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 15:48:02,436 - services.ai_service - ERROR - Error using AI for platform search: 400 Client Error: Bad Request for url: https://api.groq.com/openai/v1/chat/completions
2025-05-27 15:48:02,442 - services.scheduler - INFO - Found 5 potential comparisons for product 3 on other platforms.
2025-05-27 15:48:03,351 - services.flipkart_scraper - INFO - Attempting to scrape Flipkart price from: https://www.flipkart.com/search?q=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 15:48:05,998 - services.flipkart_scraper - WARNING - Could not find price element for Flipkart URL: https://www.flipkart.com/search?q=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 15:48:06,003 - services.scheduler - WARNING - Failed to scrape price from Flipkart URL: https://www.flipkart.com/search?q=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) for product 3
2025-05-27 15:48:06,647 - services.scheduler - WARNING - Failed to scrape price from Snapdeal URL: https://www.snapdeal.com/search?keyword=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) for product 3
2025-05-27 15:48:07,466 - services.scheduler - WARNING - Failed to scrape price from Reliance Digital URL: https://www.reliancedigital.in/search?q=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) for product 3
2025-05-27 15:48:08,241 - services.scheduler - WARNING - Failed to scrape price from Tata Cliq URL: https://www.tatacliq.com/search/?searchCategory=all&text=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) for product 3
2025-05-27 15:48:09,261 - services.scheduler - WARNING - Failed to scrape price from Croma URL: https://www.croma.com/searchB?q=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) for product 3
2025-05-27 15:48:09,263 - services.scheduler - ERROR - Error updating product 3 (attempt 1/3): 'recorded_at' is an invalid keyword argument for PriceRecord
2025-05-27 15:48:09,270 - services.scheduler - INFO - Retry attempt 2 for product 3 after 2.55s delay
2025-05-27 15:48:11,398 - services.database - ERROR - Error getting price history for product 7: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (7,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:48:11,401 - routes.products - ERROR - Error fetching product 7 with grouped history: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (7,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:48:11,405 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:48:11] "[35m[1mGET /api/products/7 HTTP/1.1[0m" 500 -
2025-05-27 15:48:11,821 - services.scheduler - INFO - Updating prices for product: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) (ID: 3)
2025-05-27 15:48:11,822 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0DSVS6P6G
2025-05-27 15:48:11,823 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 15:48:11,823 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 15:48:11,824 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0DSVS6P6G
2025-05-27 15:48:11,824 - services.scraper - INFO - Extracted product ID from URL: B0DSVS6P6G
2025-05-27 15:48:11,824 - services.scraper - INFO - Waiting 1.45 seconds before attempt 1/5
2025-05-27 15:48:13,276 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 15:48:15,918 - services.database - ERROR - Error getting price history for product 7: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (7,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:48:15,919 - routes.products - ERROR - Error fetching product 7 with grouped history: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (7,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:48:15,921 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:48:15] "[35m[1mGET /api/products/7 HTTP/1.1[0m" 500 -
2025-05-27 15:48:16,224 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:48:16] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:48:16,242 - services.database - ERROR - Error getting price history for product 7: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (7,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:48:16,244 - routes.products - ERROR - Error fetching product 7 with grouped history: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (7,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:48:16,247 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:48:16] "[35m[1mGET /api/products/7 HTTP/1.1[0m" 500 -
2025-05-27 15:48:16,540 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:48:16] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:48:17,065 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 15:48:17,067 - services.scraper - INFO - Waiting 2.12 seconds before attempt 2/5
2025-05-27 15:48:17,302 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:48:17] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:48:17,568 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:48:17] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:48:17,631 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:48:17] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:48:17,900 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:48:17] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:48:19,183 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 15:48:22,251 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:48:22] "OPTIONS /api/products/7 HTTP/1.1" 200 -
2025-05-27 15:48:22,581 - services.database - ERROR - Error deleting product: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE ? = price_records.product_id]
[parameters: (7,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:48:22,583 - routes.products - ERROR - Error deleting product 7: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE ? = price_records.product_id]
[parameters: (7,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:48:22,585 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:48:22] "[35m[1mDELETE /api/products/7 HTTP/1.1[0m" 500 -
2025-05-27 15:48:23,242 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 15:48:23,243 - services.scraper - INFO - Waiting 1.02 seconds before attempt 3/5
2025-05-27 15:48:24,264 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 15:48:28,489 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 15:48:28,490 - services.scraper - INFO - Waiting 1.36 seconds before attempt 4/5
2025-05-27 15:48:29,856 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 15:48:33,834 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 15:48:33,835 - services.scraper - INFO - Waiting 1.70 seconds before attempt 5/5
2025-05-27 15:48:35,330 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:48:35] "OPTIONS /api/products/6 HTTP/1.1" 200 -
2025-05-27 15:48:35,535 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 15:48:35,659 - services.database - ERROR - Error deleting product: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE ? = price_records.product_id]
[parameters: (6,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:48:35,660 - routes.products - ERROR - Error deleting product 6: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE ? = price_records.product_id]
[parameters: (6,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:48:35,661 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:48:35] "[35m[1mDELETE /api/products/6 HTTP/1.1[0m" 500 -
2025-05-27 15:48:39,087 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 15:48:39,088 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 15:48:39,089 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0DSVS6P6G
2025-05-27 15:48:46,049 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:48:46] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:48:46,568 - services.scraper - INFO - Successfully extracted product name from mobile site: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 15:48:46,796 - services.scraper - INFO - Successfully scraped Amazon product: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 15:48:46,796 - services.scheduler - ERROR - Error updating main platform price for product 3: 'recorded_at' is an invalid keyword argument for PriceRecord
2025-05-27 15:48:46,797 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0DSVS6P6G
2025-05-27 15:48:46,798 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 15:48:46,798 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 15:48:46,799 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0DSVS6P6G
2025-05-27 15:48:46,799 - services.scraper - INFO - Extracted product ID from URL: B0DSVS6P6G
2025-05-27 15:48:46,800 - services.scraper - INFO - Waiting 1.88 seconds before attempt 1/5
2025-05-27 15:48:48,685 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 15:48:52,409 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 15:48:52,410 - services.scraper - INFO - Waiting 2.41 seconds before attempt 2/5
2025-05-27 15:48:54,819 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 15:48:58,546 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 15:48:58,549 - services.scraper - INFO - Waiting 1.98 seconds before attempt 3/5
2025-05-27 15:49:00,535 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 15:49:04,830 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 15:49:04,831 - services.scraper - INFO - Waiting 2.34 seconds before attempt 4/5
2025-05-27 15:49:07,170 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 15:49:11,425 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 15:49:11,426 - services.scraper - INFO - Waiting 2.85 seconds before attempt 5/5
2025-05-27 15:49:14,280 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 15:49:16,365 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:49:16] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:49:18,778 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 15:49:18,779 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 15:49:18,780 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0DSVS6P6G
2025-05-27 15:49:27,456 - services.scraper - INFO - Successfully extracted product name from mobile site: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 15:49:27,885 - services.scraper - INFO - Successfully scraped Amazon product: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 15:49:30,679 - services.ai_service - ERROR - Error enhancing metadata with Gemini AI: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 15:49:32,449 - services.ai_service - INFO - Successfully parsed Groq AI response for product: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 15:49:32,975 - services.ai_service - INFO - Starting product comparison for: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 15:49:32,976 - services.ai_service - INFO - Brand: Panasonic, Model: CS/CU-SU18AKY3W
2025-05-27 15:49:32,978 - services.ai_service - INFO - Extracted keywords for search: ['panasonic', 'cs/cu-su18aky3w', 'panasonic', '1.5', 'star', 'premium', 'wi-fi', 'inverter', 'smart', 'split', '(matter', 'enabled,', 'higher', 'airflow,', 'copper', 'condenser,', '7in1', 'convertible,', 'true', '2-way,', '0.1', 'filter,', 'cs/cu-su18aky3w,', 'white)', 'panasonic 1.5 ton 3 star premium wi-fi inverter smart split ac (matter enabled, higher airflow, copper condenser, 7in1 convertible, true ai, 2-way, pm 0.1 filter, cs/cu-su18aky3w, white)']
2025-05-27 15:49:32,979 - services.ai_service - INFO - Using optimized search query for comparison: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 15:49:35,898 - services.ai_service - WARNING - Error using Gemini for platform search: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 15:49:38,287 - services.ai_service - WARNING - Invalid response structure from AI - expected a list of products
2025-05-27 15:49:38,288 - services.ai_service - WARNING - Value error processing AI response: Invalid response structure
2025-05-27 15:49:38,292 - services.scheduler - INFO - Found 5 potential comparisons for product 3 on other platforms.
2025-05-27 15:49:39,374 - services.flipkart_scraper - INFO - Attempting to scrape Flipkart price from: https://www.flipkart.com/search?q=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 15:49:41,294 - services.flipkart_scraper - WARNING - Could not find price element for Flipkart URL: https://www.flipkart.com/search?q=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 15:49:41,298 - services.scheduler - WARNING - Failed to scrape price from Flipkart URL: https://www.flipkart.com/search?q=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) for product 3
2025-05-27 15:49:42,500 - services.scheduler - WARNING - Failed to scrape price from Snapdeal URL: https://www.snapdeal.com/search?keyword=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) for product 3
2025-05-27 15:49:43,380 - services.scheduler - WARNING - Failed to scrape price from Reliance Digital URL: https://www.reliancedigital.in/search?q=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) for product 3
2025-05-27 15:49:44,735 - services.scheduler - WARNING - Failed to scrape price from Tata Cliq URL: https://www.tatacliq.com/search/?searchCategory=all&text=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) for product 3
2025-05-27 15:49:45,832 - services.scheduler - WARNING - Failed to scrape price from Croma URL: https://www.croma.com/searchB?q=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) for product 3
2025-05-27 15:49:45,834 - services.scheduler - ERROR - Error updating product 3 (attempt 2/3): 'recorded_at' is an invalid keyword argument for PriceRecord
2025-05-27 15:49:45,839 - services.scheduler - INFO - Retry attempt 3 for product 3 after 5.63s delay
2025-05-27 15:49:46,041 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:49:46] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:49:51,471 - services.scheduler - INFO - Updating prices for product: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) (ID: 3)
2025-05-27 15:49:51,471 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0DSVS6P6G
2025-05-27 15:49:51,472 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 15:49:51,472 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 15:49:51,472 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0DSVS6P6G
2025-05-27 15:49:51,473 - services.scraper - INFO - Extracted product ID from URL: B0DSVS6P6G
2025-05-27 15:49:51,473 - services.scraper - INFO - Waiting 1.83 seconds before attempt 1/5
2025-05-27 15:49:53,309 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 15:49:57,716 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 15:49:57,717 - services.scraper - INFO - Waiting 2.03 seconds before attempt 2/5
2025-05-27 15:49:59,753 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 15:50:03,368 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 15:50:03,369 - services.scraper - INFO - Waiting 2.91 seconds before attempt 3/5
2025-05-27 15:50:06,280 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 15:50:07,032 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\OneDrive\\Desktop\\alfaleus-internship\\backend\\routes\\products.py', reloading
2025-05-27 15:50:07,034 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\OneDrive\\Desktop\\alfaleus-internship\\backend\\routes\\products.py', reloading
2025-05-27 15:50:07,326 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-05-27 15:50:07,671 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-27 15:50:10,012 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 15:50:10,013 - services.scraper - INFO - Waiting 3.24 seconds before attempt 4/5
2025-05-27 15:50:11,237 - __main__ - INFO - CORS configured for all origins (development mode)
2025-05-27 15:50:11,268 - models.db - INFO - Database tables created or verified
2025-05-27 15:50:11,273 - __main__ - INFO - Initializing scheduler for non-serverless environment
2025-05-27 15:50:11,273 - __main__ - INFO - Scheduler config: check_interval=30m, max_products=100
2025-05-27 15:50:11,370 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-27 15:50:11,373 - apscheduler.scheduler - INFO - Added job "update_all_prices" to job store "default"
2025-05-27 15:50:11,373 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 15:50:11,375 - __main__ - INFO - Price update scheduler started with interval: 30 minutes
2025-05-27 15:50:11,400 - werkzeug - WARNING -  * Debugger is active!
2025-05-27 15:50:11,408 - werkzeug - INFO -  * Debugger PIN: 316-319-957
2025-05-27 15:50:13,258 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 15:50:15,750 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-05-27 15:50:16,984 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 15:50:16,985 - services.scraper - INFO - Waiting 2.24 seconds before attempt 5/5
2025-05-27 15:50:19,231 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 15:50:50,634 - __main__ - INFO - CORS configured for all origins (development mode)
2025-05-27 15:50:50,688 - models.db - INFO - Database tables created or verified
2025-05-27 15:50:50,699 - __main__ - INFO - Initializing scheduler for non-serverless environment
2025-05-27 15:50:50,699 - __main__ - INFO - Scheduler config: check_interval=30m, max_products=100
2025-05-27 15:50:50,810 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-27 15:50:50,813 - apscheduler.scheduler - INFO - Added job "update_all_prices" to job store "default"
2025-05-27 15:50:50,814 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 15:50:50,815 - __main__ - INFO - Price update scheduler started with interval: 30 minutes
2025-05-27 15:50:50,889 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.127.187:5000
2025-05-27 15:50:50,890 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-27 15:50:50,922 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-27 15:50:54,051 - __main__ - INFO - CORS configured for all origins (development mode)
2025-05-27 15:50:54,094 - models.db - INFO - Database tables created or verified
2025-05-27 15:50:54,102 - __main__ - INFO - Initializing scheduler for non-serverless environment
2025-05-27 15:50:54,103 - __main__ - INFO - Scheduler config: check_interval=30m, max_products=100
2025-05-27 15:50:54,181 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-27 15:50:54,183 - apscheduler.scheduler - INFO - Added job "update_all_prices" to job store "default"
2025-05-27 15:50:54,184 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 15:50:54,185 - __main__ - INFO - Price update scheduler started with interval: 30 minutes
2025-05-27 15:50:54,225 - werkzeug - WARNING -  * Debugger is active!
2025-05-27 15:50:54,234 - werkzeug - INFO -  * Debugger PIN: 316-319-957
2025-05-27 15:51:00,114 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:51:00] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:51:00,159 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:51:00] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:51:00,373 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:51:00] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:51:00,438 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:51:00] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:51:00,486 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:51:00] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:51:00,768 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:51:00] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:51:07,012 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:51:07] "OPTIONS /api/products HTTP/1.1" 200 -
2025-05-27 15:51:07,332 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:51:07] "POST /api/products HTTP/1.1" 200 -
2025-05-27 15:51:07,592 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:51:07] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:51:13,440 - services.database - ERROR - Error getting price history for product 4: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (4,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:51:13,443 - routes.products - ERROR - Error fetching product 4 with grouped history: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (4,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:51:13,446 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:51:13] "[35m[1mGET /api/products/4 HTTP/1.1[0m" 500 -
2025-05-27 15:51:13,782 - services.database - ERROR - Error getting price history for product 4: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (4,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:51:13,784 - routes.products - ERROR - Error fetching product 4 with grouped history: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (4,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:51:13,786 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:51:13] "[35m[1mGET /api/products/4 HTTP/1.1[0m" 500 -
2025-05-27 15:51:30,349 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:51:30] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:52:00,059 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:52:00] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:52:30,362 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:52:30] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:52:40,900 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:52:40] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:52:41,214 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:52:41] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:52:41,534 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:52:41] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:52:41,862 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:52:41] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:52:44,474 - services.database - ERROR - Error getting price history for product 6: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (6,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:52:44,475 - routes.products - ERROR - Error fetching product 6 with grouped history: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (6,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:52:44,477 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:52:44] "[35m[1mGET /api/products/6 HTTP/1.1[0m" 500 -
2025-05-27 15:52:44,735 - services.database - ERROR - Error getting price history for product 6: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (6,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:52:44,737 - routes.products - ERROR - Error fetching product 6 with grouped history: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (6,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:52:44,738 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:52:44] "[35m[1mGET /api/products/6 HTTP/1.1[0m" 500 -
2025-05-27 15:52:49,117 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:52:49] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:52:49,440 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:52:49] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:52:49,779 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:52:49] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:52:50,109 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:52:50] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:52:55,616 - services.database - ERROR - Error getting price history for product 5: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (5,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:52:55,619 - routes.products - ERROR - Error fetching product 5 with grouped history: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (5,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:52:55,623 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:52:55] "[35m[1mGET /api/products/5 HTTP/1.1[0m" 500 -
2025-05-27 15:52:55,847 - services.database - ERROR - Error getting price history for product 5: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (5,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:52:55,848 - routes.products - ERROR - Error fetching product 5 with grouped history: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (5,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:52:55,850 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:52:55] "[35m[1mGET /api/products/5 HTTP/1.1[0m" 500 -
2025-05-27 15:53:00,062 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:53:00] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:53:30,367 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:53:30] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:54:00,055 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:54:00] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:54:07,924 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:54:07] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:54:07,933 - services.database - ERROR - Error getting price history for product 5: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (5,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:54:07,934 - routes.products - ERROR - Error fetching product 5 with grouped history: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (5,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:54:07,936 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:54:07] "[35m[1mGET /api/products/5 HTTP/1.1[0m" 500 -
2025-05-27 15:54:08,184 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:54:08] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:54:08,253 - services.database - ERROR - Error getting price history for product 5: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (5,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:54:08,256 - routes.products - ERROR - Error fetching product 5 with grouped history: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (5,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:54:08,259 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:54:08] "[35m[1mGET /api/products/5 HTTP/1.1[0m" 500 -
2025-05-27 15:54:08,946 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:54:08] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:54:09,265 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:54:09] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:54:09,581 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:54:09] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:54:09,912 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:54:09] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:54:15,081 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:54:15] "OPTIONS /api/products/6 HTTP/1.1" 200 -
2025-05-27 15:54:15,357 - services.database - ERROR - Error deleting product: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE ? = price_records.product_id]
[parameters: (6,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:54:15,360 - routes.products - ERROR - Error deleting product 6: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE ? = price_records.product_id]
[parameters: (6,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:54:15,363 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:54:15] "[35m[1mDELETE /api/products/6 HTTP/1.1[0m" 500 -
2025-05-27 15:54:24,279 - services.database - ERROR - Error getting price history for product 6: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (6,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:54:24,281 - routes.products - ERROR - Error fetching product 6 with grouped history: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (6,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:54:24,283 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:54:24] "[35m[1mGET /api/products/6 HTTP/1.1[0m" 500 -
2025-05-27 15:54:24,618 - services.database - ERROR - Error getting price history for product 6: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (6,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:54:24,621 - routes.products - ERROR - Error fetching product 6 with grouped history: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (6,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:54:24,626 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:54:24] "[35m[1mGET /api/products/6 HTTP/1.1[0m" 500 -
2025-05-27 15:54:25,740 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:54:25] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:54:26,009 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:54:26] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:54:26,072 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:54:26] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:54:26,339 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:54:26] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:54:27,729 - services.database - ERROR - Error getting price history for product 7: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (7,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:54:27,732 - routes.products - ERROR - Error fetching product 7 with grouped history: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (7,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:54:27,735 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:54:27] "[35m[1mGET /api/products/7 HTTP/1.1[0m" 500 -
2025-05-27 15:54:28,072 - services.database - ERROR - Error getting price history for product 7: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (7,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:54:28,074 - routes.products - ERROR - Error fetching product 7 with grouped history: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? ORDER BY price_records.timestamp ASC]
[parameters: (7,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:54:28,078 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:54:28] "[35m[1mGET /api/products/7 HTTP/1.1[0m" 500 -
2025-05-27 15:54:38,375 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:54:38] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:55:08,070 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:55:08] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:55:13,138 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:55:13] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:55:13,401 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:55:13] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:55:13,463 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:55:13] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:55:13,729 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:55:13] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:55:18,032 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:55:18] "OPTIONS /api/products/6 HTTP/1.1" 200 -
2025-05-27 15:55:18,359 - services.database - ERROR - Error deleting product: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE ? = price_records.product_id]
[parameters: (6,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:55:18,361 - routes.products - ERROR - Error deleting product 6: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE ? = price_records.product_id]
[parameters: (6,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:55:18,362 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:55:18] "[35m[1mDELETE /api/products/6 HTTP/1.1[0m" 500 -
2025-05-27 15:55:34,993 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:55:34] "OPTIONS /api/products/3 HTTP/1.1" 200 -
2025-05-27 15:55:35,324 - services.database - ERROR - Error deleting product: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE ? = price_records.product_id]
[parameters: (3,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:55:35,325 - routes.products - ERROR - Error deleting product 3: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE ? = price_records.product_id]
[parameters: (3,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:55:35,327 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:55:35] "[35m[1mDELETE /api/products/3 HTTP/1.1[0m" 500 -
2025-05-27 15:55:38,077 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:55:38] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:55:44,643 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:55:44] "OPTIONS /api/products/2 HTTP/1.1" 200 -
2025-05-27 15:55:44,909 - services.database - ERROR - Error deleting product: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE ? = price_records.product_id]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:55:44,912 - routes.products - ERROR - Error deleting product 2: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE ? = price_records.product_id]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:55:44,914 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:55:44] "[35m[1mDELETE /api/products/2 HTTP/1.1[0m" 500 -
2025-05-27 15:56:08,076 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:56:08] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:56:38,389 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:56:38] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:57:08,095 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:57:08] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:57:26,475 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:57:26] "OPTIONS /api/products/3 HTTP/1.1" 200 -
2025-05-27 15:57:26,748 - services.database - ERROR - Error deleting product: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE ? = price_records.product_id]
[parameters: (3,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:57:26,749 - routes.products - ERROR - Error deleting product 3: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE ? = price_records.product_id]
[parameters: (3,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:57:26,751 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:57:26] "[35m[1mDELETE /api/products/3 HTTP/1.1[0m" 500 -
2025-05-27 15:57:29,008 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:57:29] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:57:29,310 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:57:29] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:57:29,328 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:57:29] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:57:29,630 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:57:29] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:57:29,649 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:57:29] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:57:29,982 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:57:29] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:57:31,447 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-05-27 15:57:32,046 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-05-27 15:57:44,143 - __main__ - INFO - CORS configured for all origins (development mode)
2025-05-27 15:57:44,195 - models.db - INFO - Database tables created or verified
2025-05-27 15:57:44,202 - __main__ - INFO - Initializing scheduler for non-serverless environment
2025-05-27 15:57:44,202 - __main__ - INFO - Scheduler config: check_interval=30m, max_products=100
2025-05-27 15:57:44,305 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-27 15:57:44,307 - apscheduler.scheduler - INFO - Added job "update_all_prices" to job store "default"
2025-05-27 15:57:44,307 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 15:57:44,308 - __main__ - INFO - Price update scheduler started with interval: 30 minutes
2025-05-27 15:57:44,348 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.127.187:5000
2025-05-27 15:57:44,349 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-27 15:57:44,374 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-27 15:57:46,975 - __main__ - INFO - CORS configured for all origins (development mode)
2025-05-27 15:57:47,022 - models.db - INFO - Database tables created or verified
2025-05-27 15:57:47,027 - __main__ - INFO - Initializing scheduler for non-serverless environment
2025-05-27 15:57:47,028 - __main__ - INFO - Scheduler config: check_interval=30m, max_products=100
2025-05-27 15:57:47,114 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-27 15:57:47,116 - apscheduler.scheduler - INFO - Added job "update_all_prices" to job store "default"
2025-05-27 15:57:47,117 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 15:57:47,118 - __main__ - INFO - Price update scheduler started with interval: 30 minutes
2025-05-27 15:57:47,138 - werkzeug - WARNING -  * Debugger is active!
2025-05-27 15:57:47,146 - werkzeug - INFO -  * Debugger PIN: 316-319-957
2025-05-27 15:57:56,086 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:57:56] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:57:56,136 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:57:56] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:57:56,323 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:57:56] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:57:56,458 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:57:56] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:57:56,471 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:57:56] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:57:56,799 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:57:56] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:57:59,762 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:57:59] "OPTIONS /api/products/6 HTTP/1.1" 200 -
2025-05-27 15:58:00,026 - services.database - ERROR - Error deleting product: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE ? = price_records.product_id]
[parameters: (6,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:58:00,029 - routes.products - ERROR - Error deleting product 6: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE ? = price_records.product_id]
[parameters: (6,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:58:00,032 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:58:00] "[35m[1mDELETE /api/products/6 HTTP/1.1[0m" 500 -
2025-05-27 15:58:26,113 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:58:26] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:58:56,446 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:58:56] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:59:18,103 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:59:18] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:59:18,419 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:59:18] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:59:18,425 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:59:18] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:59:18,732 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:59:18] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:59:18,752 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:59:18] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:59:19,075 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:59:19] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:59:24,619 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:59:24] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:59:24,630 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:59:24] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:59:24,879 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:59:24] "GET /api/health HTTP/1.1" 200 -
2025-05-27 15:59:24,954 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:59:24] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:59:24,975 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:59:24] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:59:25,307 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:59:25] "GET /api/products HTTP/1.1" 200 -
2025-05-27 15:59:41,005 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:59:41] "OPTIONS /api/products/6 HTTP/1.1" 200 -
2025-05-27 15:59:41,273 - services.database - ERROR - Error deleting product: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE ? = price_records.product_id]
[parameters: (6,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:59:41,274 - routes.products - ERROR - Error deleting product 6: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE ? = price_records.product_id]
[parameters: (6,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 15:59:41,275 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:59:41] "[35m[1mDELETE /api/products/6 HTTP/1.1[0m" 500 -
2025-05-27 15:59:55,131 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 15:59:55] "GET /api/health HTTP/1.1" 200 -
2025-05-27 16:00:02,379 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 16:00:02] "OPTIONS /api/products/5 HTTP/1.1" 200 -
2025-05-27 16:00:02,650 - services.database - ERROR - Error deleting product: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE ? = price_records.product_id]
[parameters: (5,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 16:00:02,651 - routes.products - ERROR - Error deleting product 5: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE ? = price_records.product_id]
[parameters: (5,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 16:00:02,653 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 16:00:02] "[35m[1mDELETE /api/products/5 HTTP/1.1[0m" 500 -
2025-05-27 16:02:03,339 - __main__ - INFO - CORS configured for all origins (development mode)
2025-05-27 16:02:03,392 - models.db - INFO - Database tables created or verified
2025-05-27 16:02:03,398 - __main__ - INFO - Initializing scheduler for non-serverless environment
2025-05-27 16:02:03,398 - __main__ - INFO - Scheduler config: check_interval=30m, max_products=100
2025-05-27 16:02:03,504 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-27 16:02:03,506 - apscheduler.scheduler - INFO - Added job "update_all_prices" to job store "default"
2025-05-27 16:02:03,506 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 16:02:03,508 - __main__ - INFO - Price update scheduler started with interval: 30 minutes
2025-05-27 16:02:03,564 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.127.187:5000
2025-05-27 16:02:03,565 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-27 16:02:03,586 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-27 16:02:05,865 - __main__ - INFO - CORS configured for all origins (development mode)
2025-05-27 16:02:05,904 - models.db - INFO - Database tables created or verified
2025-05-27 16:02:05,911 - __main__ - INFO - Initializing scheduler for non-serverless environment
2025-05-27 16:02:05,912 - __main__ - INFO - Scheduler config: check_interval=30m, max_products=100
2025-05-27 16:02:06,014 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-27 16:02:06,017 - apscheduler.scheduler - INFO - Added job "update_all_prices" to job store "default"
2025-05-27 16:02:06,017 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 16:02:06,018 - __main__ - INFO - Price update scheduler started with interval: 30 minutes
2025-05-27 16:02:06,051 - werkzeug - WARNING -  * Debugger is active!
2025-05-27 16:02:06,058 - werkzeug - INFO -  * Debugger PIN: 316-319-957
2025-05-27 16:02:28,365 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 16:02:28] "GET /api/health HTTP/1.1" 200 -
2025-05-27 16:02:28,405 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 16:02:28] "GET /api/products HTTP/1.1" 200 -
2025-05-27 16:02:28,633 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 16:02:28] "GET /api/health HTTP/1.1" 200 -
2025-05-27 16:02:28,692 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 16:02:28] "GET /api/products HTTP/1.1" 200 -
2025-05-27 16:02:28,727 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 16:02:28] "GET /api/products HTTP/1.1" 200 -
2025-05-27 16:02:29,011 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 16:02:29] "GET /api/products HTTP/1.1" 200 -
2025-05-27 16:02:39,596 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 16:02:39] "OPTIONS /api/products/5 HTTP/1.1" 200 -
2025-05-27 16:02:39,923 - services.database - ERROR - Error deleting product: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE ? = price_records.product_id]
[parameters: (5,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 16:02:39,926 - routes.products - ERROR - Error deleting product 5: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE ? = price_records.product_id]
[parameters: (5,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 16:02:39,928 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 16:02:39] "[35m[1mDELETE /api/products/5 HTTP/1.1[0m" 500 -
2025-05-27 16:02:58,178 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 16:02:58] "GET /api/health HTTP/1.1" 200 -
2025-05-27 16:03:12,413 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\dotenv\\ipython.py', reloading
2025-05-27 16:03:12,450 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\IPython\\core\\magic.py', reloading
2025-05-27 16:03:12,476 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\traitlets\\config\\configurable.py', reloading
2025-05-27 16:03:12,498 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\traitlets\\traitlets.py', reloading
2025-05-27 16:03:12,541 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\traitlets\\utils\\sentinel.py', reloading
2025-05-27 16:03:12,553 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\traitlets\\__init__.py', reloading
2025-05-27 16:03:12,576 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\IPython\\core\\magic_arguments.py', reloading
2025-05-27 16:03:12,611 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\flask_limiter\\_version.py', reloading
2025-05-27 16:03:12,622 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\flask_limiter\\errors.py', reloading
2025-05-27 16:03:12,645 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\limits\\storage\\__init__.py', reloading
2025-05-27 16:03:12,658 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\limits\\storage\\base.py', reloading
2025-05-27 16:03:12,673 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\limits\\util.py', reloading
2025-05-27 16:03:12,789 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-05-27 16:03:13,012 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-27 16:03:14,454 - __main__ - INFO - CORS configured for all origins (development mode)
2025-05-27 16:03:14,472 - models.db - INFO - Database tables created or verified
2025-05-27 16:03:14,475 - __main__ - INFO - Initializing scheduler for non-serverless environment
2025-05-27 16:03:14,476 - __main__ - INFO - Scheduler config: check_interval=30m, max_products=100
2025-05-27 16:03:14,531 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-27 16:03:14,532 - apscheduler.scheduler - INFO - Added job "update_all_prices" to job store "default"
2025-05-27 16:03:14,533 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 16:03:14,533 - __main__ - INFO - Price update scheduler started with interval: 30 minutes
2025-05-27 16:03:14,546 - werkzeug - WARNING -  * Debugger is active!
2025-05-27 16:03:14,550 - werkzeug - INFO -  * Debugger PIN: 316-319-957
2025-05-27 16:03:28,494 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 16:03:28] "GET /api/health HTTP/1.1" 200 -
2025-05-27 16:03:45,025 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 16:03:45] "OPTIONS /api/products HTTP/1.1" 200 -
2025-05-27 16:03:45,378 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0BVMT2JLV
2025-05-27 16:03:45,380 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 16:03:45,381 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 16:03:45,381 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0BVMT2JLV
2025-05-27 16:03:45,382 - services.scraper - INFO - Extracted product ID from URL: B0BVMT2JLV
2025-05-27 16:03:45,382 - services.scraper - INFO - Waiting 1.31 seconds before attempt 1/5
2025-05-27 16:03:46,697 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 16:03:49,259 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 16:03:49] "GET /api/products HTTP/1.1" 200 -
2025-05-27 16:03:49,579 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 16:03:49] "GET /api/products HTTP/1.1" 200 -
2025-05-27 16:03:51,033 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 16:03:51,034 - services.scraper - INFO - Waiting 1.93 seconds before attempt 2/5
2025-05-27 16:03:52,963 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 16:03:57,849 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 16:03:57,850 - services.scraper - INFO - Waiting 1.45 seconds before attempt 3/5
2025-05-27 16:03:58,390 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 16:03:58] "GET /api/health HTTP/1.1" 200 -
2025-05-27 16:04:01,066 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 16:04:05,083 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 16:04:05,083 - services.scraper - INFO - Waiting 1.18 seconds before attempt 4/5
2025-05-27 16:04:06,267 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 16:04:10,357 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 16:04:10,359 - services.scraper - INFO - Waiting 1.70 seconds before attempt 5/5
2025-05-27 16:04:12,061 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 16:04:16,248 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 16:04:16,250 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 16:04:16,251 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0BVMT2JLV
2025-05-27 16:04:21,794 - services.scraper - INFO - Successfully extracted product name from mobile site: Chemist at Play Brightening Roll On For Neck, Knee & Elbow With 6% Vitamin C+ Hyaluronic Acid, AHAs, Niacinamide, & Ceramides | Helps Reduction in Pigmentation & Hydrates Dry Skin | 40ml
2025-05-27 16:04:21,892 - services.scraper - INFO - Successfully scraped Amazon product: Chemist at Play Brightening Roll On For Neck, Knee & Elbow With 6% Vitamin C+ Hyaluronic Acid, AHAs, Niacinamide, & Ceramides | Helps Reduction in Pigmentation & Hydrates Dry Skin | 40ml
2025-05-27 16:04:21,934 - routes.products - INFO - Added new product: Chemist at Play Brightening Roll On For Neck, Knee & Elbow With 6% Vitamin C+ Hyaluronic Acid, AHAs, Niacinamide, & Ceramides | Helps Reduction in Pigmentation & Hydrates Dry Skin | 40ml (ID: 8)
2025-05-27 16:04:21,936 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 16:04:21] "[35m[1mPOST /api/products HTTP/1.1[0m" 201 -
2025-05-27 16:04:28,394 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 16:04:28] "GET /api/health HTTP/1.1" 200 -
2025-05-27 16:04:58,101 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 16:04:58] "GET /api/health HTTP/1.1" 200 -
2025-05-27 16:05:28,415 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 16:05:28] "GET /api/health HTTP/1.1" 200 -
2025-05-27 16:05:58,107 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 16:05:58] "GET /api/health HTTP/1.1" 200 -
2025-05-27 16:06:28,426 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 16:06:28] "GET /api/health HTTP/1.1" 200 -
2025-05-27 16:06:58,123 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 16:06:58] "GET /api/health HTTP/1.1" 200 -
2025-05-27 16:07:28,535 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 16:07:28] "GET /api/health HTTP/1.1" 200 -
2025-05-27 17:37:22,596 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 17:37:22] "GET /api/health HTTP/1.1" 200 -
2025-05-27 17:37:27,874 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 17:37:27] "GET /api/health HTTP/1.1" 200 -
2025-05-27 17:37:27,896 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 17:37:27] "GET /api/products HTTP/1.1" 200 -
2025-05-27 17:37:28,092 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 17:37:28] "GET /api/health HTTP/1.1" 200 -
2025-05-27 17:37:28,211 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 17:37:28] "GET /api/products HTTP/1.1" 200 -
2025-05-27 17:37:28,231 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 17:37:28] "GET /api/products HTTP/1.1" 200 -
2025-05-27 17:37:28,547 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 17:37:28] "GET /api/products HTTP/1.1" 200 -
2025-05-27 17:38:16,519 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\OneDrive\\Desktop\\alfaleus-internship\\backend\\routes\\products.py', reloading
2025-05-27 17:38:16,524 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\OneDrive\\Desktop\\alfaleus-internship\\backend\\services\\scraper.py', reloading
2025-05-27 17:38:16,563 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\OneDrive\\Desktop\\alfaleus-internship\\backend\\create_db_tables_temp.py', reloading
2025-05-27 17:38:16,916 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-05-27 17:38:17,127 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-27 17:38:18,725 - __main__ - INFO - CORS configured for all origins (development mode)
2025-05-27 17:38:18,747 - models.db - INFO - Database tables created or verified
2025-05-27 17:38:18,750 - __main__ - INFO - Initializing scheduler for non-serverless environment
2025-05-27 17:38:18,753 - __main__ - INFO - Scheduler config: check_interval=30m, max_products=100
2025-05-27 17:38:18,830 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-27 17:38:18,832 - apscheduler.scheduler - INFO - Added job "update_all_prices" to job store "default"
2025-05-27 17:38:18,832 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 17:38:18,833 - __main__ - INFO - Price update scheduler started with interval: 30 minutes
2025-05-27 17:38:18,853 - werkzeug - WARNING -  * Debugger is active!
2025-05-27 17:38:18,859 - werkzeug - INFO -  * Debugger PIN: 316-319-957
2025-05-27 18:25:44,019 - apscheduler.executors.default - WARNING - Run time of job "update_all_prices (trigger: interval[0:30:00], next run at: 2025-05-27 16:32:03 IST)" was missed by 0:23:40.514207
2025-05-27 19:39:39,517 - __main__ - INFO - CORS configured for all origins (development mode)
2025-05-27 19:39:39,563 - models.db - INFO - Database tables created or verified
2025-05-27 19:39:39,568 - __main__ - INFO - Initializing scheduler for non-serverless environment
2025-05-27 19:39:39,568 - __main__ - INFO - Scheduler config: check_interval=30m, max_products=100
2025-05-27 19:39:39,650 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-27 19:39:39,653 - apscheduler.scheduler - INFO - Added job "update_all_prices" to job store "default"
2025-05-27 19:39:39,653 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 19:39:39,655 - __main__ - INFO - Price update scheduler started with interval: 30 minutes
2025-05-27 19:39:39,713 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.8:5000
2025-05-27 19:39:39,713 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-27 19:39:39,748 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-27 19:39:42,697 - __main__ - INFO - CORS configured for all origins (development mode)
2025-05-27 19:39:42,733 - models.db - INFO - Database tables created or verified
2025-05-27 19:39:42,742 - __main__ - INFO - Initializing scheduler for non-serverless environment
2025-05-27 19:39:42,743 - __main__ - INFO - Scheduler config: check_interval=30m, max_products=100
2025-05-27 19:39:42,878 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-27 19:39:42,883 - apscheduler.scheduler - INFO - Added job "update_all_prices" to job store "default"
2025-05-27 19:39:42,884 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 19:39:42,887 - __main__ - INFO - Price update scheduler started with interval: 30 minutes
2025-05-27 19:39:42,956 - werkzeug - WARNING -  * Debugger is active!
2025-05-27 19:39:42,973 - werkzeug - INFO -  * Debugger PIN: 316-319-957
2025-05-27 19:39:50,648 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 19:39:50] "GET /api/health HTTP/1.1" 200 -
2025-05-27 19:39:50,683 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 19:39:50] "GET /api/products HTTP/1.1" 200 -
2025-05-27 19:39:50,886 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 19:39:50] "GET /api/health HTTP/1.1" 200 -
2025-05-27 19:39:50,976 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 19:39:50] "GET /api/products HTTP/1.1" 200 -
2025-05-27 19:39:51,010 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 19:39:51] "GET /api/products HTTP/1.1" 200 -
2025-05-27 19:39:51,300 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 19:39:51] "GET /api/products HTTP/1.1" 200 -
2025-05-27 19:40:05,830 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 19:40:05] "OPTIONS /api/products/8 HTTP/1.1" 200 -
2025-05-27 19:40:06,157 - services.database - ERROR - Error deleting product: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE ? = price_records.product_id]
[parameters: (8,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 19:40:06,159 - routes.products - ERROR - Error deleting product 8: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE ? = price_records.product_id]
[parameters: (8,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 19:40:06,161 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 19:40:06] "[35m[1mDELETE /api/products/8 HTTP/1.1[0m" 500 -
2025-05-27 19:40:20,323 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 19:40:20] "GET /api/health HTTP/1.1" 200 -
2025-05-27 19:40:41,690 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 19:40:41] "GET /api/products HTTP/1.1" 200 -
2025-05-27 19:40:41,928 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 19:40:41] "GET /api/products HTTP/1.1" 200 -
2025-05-27 19:40:51,235 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 19:40:51] "GET /api/health HTTP/1.1" 200 -
2025-05-27 19:41:21,544 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 19:41:21] "GET /api/health HTTP/1.1" 200 -
2025-05-27 19:41:51,239 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 19:41:51] "GET /api/health HTTP/1.1" 200 -
2025-05-27 19:42:21,555 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 19:42:21] "GET /api/health HTTP/1.1" 200 -
2025-05-27 19:42:51,240 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 19:42:51] "GET /api/health HTTP/1.1" 200 -
2025-05-27 19:44:15,556 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 19:44:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 19:45:15,551 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 19:45:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 19:46:15,235 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 19:46:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 19:47:15,559 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 19:47:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 19:48:15,235 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 19:48:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 19:49:15,542 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 19:49:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 19:50:15,244 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 19:50:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 19:51:15,557 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 19:51:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 19:52:15,235 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 19:52:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 19:53:15,546 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 19:53:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 19:54:15,241 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 19:54:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 19:55:15,546 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 19:55:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 19:56:15,239 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 19:56:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 19:57:15,555 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 19:57:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 19:58:15,237 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 19:58:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 19:59:15,546 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 19:59:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:00:15,240 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:00:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:01:15,545 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:01:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:02:07,996 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:02:07] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:02:21,555 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:02:21] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:02:51,232 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:02:51] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:04:15,565 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:04:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:05:15,245 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:05:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:06:15,554 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:06:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:07:10,381 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:07:10] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:07:21,568 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:07:21] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:07:51,231 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:07:51] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:08:21,550 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:08:21] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:08:50,316 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:08:50] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:09:20,641 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:09:20] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:09:39,654 - apscheduler.executors.default - INFO - Running job "update_all_prices (trigger: interval[0:30:00], next run at: 2025-05-27 20:09:39 IST)" (scheduled at 2025-05-27 20:09:39.649174+05:30)
2025-05-27 20:09:39,658 - services.scheduler - INFO - Starting scheduled price update with smart prioritization
2025-05-27 20:09:39,711 - services.scheduler - INFO - Found 8 products to evaluate for updates
2025-05-27 20:09:39,717 - services.scheduler - WARNING - Error calculating volatility for product 1: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.price AS price_records_price 
FROM price_records 
WHERE price_records.product_id = ? AND price_records.platform = ? AND price_records.timestamp >= ?]
[parameters: (1, 'Amazon', '2025-05-20 14:39:39.658780')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 20:09:39,735 - services.scheduler - ERROR - Error calculating priority for product 1: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? AND price_records.timestamp >= ? ORDER BY price_records.timestamp DESC
 LIMIT ? OFFSET ?]
[parameters: (1, '2025-05-25 14:39:39.658780', 5, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 20:09:39,745 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\OneDrive\\Desktop\\alfaleus-internship\\backend\\services\\scheduler.py', reloading
2025-05-27 20:09:39,749 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\query.py', reloading
2025-05-27 20:09:39,756 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\session.py', reloading
2025-05-27 20:09:39,761 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\context.py', reloading
2025-05-27 20:09:39,767 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\base.py', reloading
2025-05-27 20:09:39,773 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\sql\\elements.py', reloading
2025-05-27 20:09:39,777 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\engine\\default.py', reloading
2025-05-27 20:09:39,781 - services.scheduler - WARNING - Error calculating volatility for product 2: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.price AS price_records_price 
FROM price_records 
WHERE price_records.product_id = ? AND price_records.platform = ? AND price_records.timestamp >= ?]
[parameters: (2, 'Amazon', '2025-05-20 14:39:39.658780')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 20:09:39,786 - services.scheduler - ERROR - Error calculating priority for product 2: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? AND price_records.timestamp >= ? ORDER BY price_records.timestamp DESC
 LIMIT ? OFFSET ?]
[parameters: (2, '2025-05-25 14:39:39.658780', 5, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 20:09:39,794 - services.scheduler - WARNING - Error calculating volatility for product 3: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.price AS price_records_price 
FROM price_records 
WHERE price_records.product_id = ? AND price_records.platform = ? AND price_records.timestamp >= ?]
[parameters: (3, 'Amazon', '2025-05-20 14:39:39.658780')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 20:09:39,799 - services.scheduler - ERROR - Error calculating priority for product 3: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? AND price_records.timestamp >= ? ORDER BY price_records.timestamp DESC
 LIMIT ? OFFSET ?]
[parameters: (3, '2025-05-25 14:39:39.658780', 5, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 20:09:39,805 - services.scheduler - WARNING - Error calculating volatility for product 4: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.price AS price_records_price 
FROM price_records 
WHERE price_records.product_id = ? AND price_records.platform = ? AND price_records.timestamp >= ?]
[parameters: (4, 'Amazon', '2025-05-20 14:39:39.658780')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 20:09:39,811 - services.scheduler - ERROR - Error calculating priority for product 4: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? AND price_records.timestamp >= ? ORDER BY price_records.timestamp DESC
 LIMIT ? OFFSET ?]
[parameters: (4, '2025-05-25 14:39:39.658780', 5, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 20:09:39,818 - services.scheduler - WARNING - Error calculating volatility for product 5: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.price AS price_records_price 
FROM price_records 
WHERE price_records.product_id = ? AND price_records.platform = ? AND price_records.timestamp >= ?]
[parameters: (5, 'Amazon', '2025-05-20 14:39:39.658780')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 20:09:39,824 - services.scheduler - ERROR - Error calculating priority for product 5: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? AND price_records.timestamp >= ? ORDER BY price_records.timestamp DESC
 LIMIT ? OFFSET ?]
[parameters: (5, '2025-05-25 14:39:39.658780', 5, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 20:09:39,833 - services.scheduler - WARNING - Error calculating volatility for product 6: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.price AS price_records_price 
FROM price_records 
WHERE price_records.product_id = ? AND price_records.platform = ? AND price_records.timestamp >= ?]
[parameters: (6, 'Amazon', '2025-05-20 14:39:39.658780')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 20:09:39,839 - services.scheduler - ERROR - Error calculating priority for product 6: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? AND price_records.timestamp >= ? ORDER BY price_records.timestamp DESC
 LIMIT ? OFFSET ?]
[parameters: (6, '2025-05-25 14:39:39.658780', 5, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 20:09:39,848 - services.scheduler - WARNING - Error calculating volatility for product 7: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.price AS price_records_price 
FROM price_records 
WHERE price_records.product_id = ? AND price_records.platform = ? AND price_records.timestamp >= ?]
[parameters: (7, 'Amazon', '2025-05-20 14:39:39.658780')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 20:09:39,855 - services.scheduler - ERROR - Error calculating priority for product 7: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? AND price_records.timestamp >= ? ORDER BY price_records.timestamp DESC
 LIMIT ? OFFSET ?]
[parameters: (7, '2025-05-25 14:39:39.658780', 5, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 20:09:39,865 - services.scheduler - WARNING - Error calculating volatility for product 8: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.price AS price_records_price 
FROM price_records 
WHERE price_records.product_id = ? AND price_records.platform = ? AND price_records.timestamp >= ?]
[parameters: (8, 'Amazon', '2025-05-20 14:39:39.658780')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 20:09:39,871 - services.scheduler - ERROR - Error calculating priority for product 8: (sqlite3.OperationalError) no such column: price_records.platform
[SQL: SELECT price_records.id AS price_records_id, price_records.product_id AS price_records_product_id, price_records.price AS price_records_price, price_records.platform AS price_records_platform, price_records.timestamp AS price_records_timestamp 
FROM price_records 
WHERE price_records.product_id = ? AND price_records.timestamp >= ? ORDER BY price_records.timestamp DESC
 LIMIT ? OFFSET ?]
[parameters: (8, '2025-05-25 14:39:39.658780', 5, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 20:09:39,878 - services.scheduler - INFO - Priority order for this update run:
2025-05-27 20:09:39,879 - services.scheduler - INFO -   1. Product 1: MSI PRO MP225 21.5 Inch Full HD Office Monitor - 1920 x 1080 IPS Panel, 100 Hz, Eye-Friendly Screen, Tilt-Adjustable - HDMI, D-Sub (VGA) - Score: 2.00 (Time: 2.00, Volatility: 0.50, Alerts: 1.00, Recent changes: 0.00)
2025-05-27 20:09:39,880 - services.scheduler - INFO -   2. Product 2: Nutrabay Gold Vital Whey Protein Powder - 1kg, Gourmet Vanilla | 20g Protein for Beginners | Added Vitamins & Minerals | Muscle Growth & Faster Recovery | Gym Supplement for Men & Women - Score: 1.91 (Time: 1.91, Volatility: 0.50, Alerts: 0.00, Recent changes: 0.00)
2025-05-27 20:09:39,881 - services.scheduler - INFO -   3. Product 3: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) - Score: 1.90 (Time: 1.90, Volatility: 0.50, Alerts: 0.00, Recent changes: 0.00)
2025-05-27 20:09:39,882 - services.scheduler - INFO -   4. Product 4: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) - Score: 1.33 (Time: 1.33, Volatility: 0.50, Alerts: 0.00, Recent changes: 0.00)
2025-05-27 20:09:39,884 - services.scheduler - INFO -   5. Product 5: Nivia Basic Ankle Support with Adjustable Velcro, Ankle Sleeves, Braces or Wraps, For Support & Stability, Free Size& Black Color, Used for All kind of impact Sports - Score: 1.04 (Time: 1.04, Volatility: 0.50, Alerts: 0.00, Recent changes: 0.00)
2025-05-27 20:09:39,884 - services.scheduler - INFO -   6. Product 6: beAAtho® Verona Mesh High Back Ergonomic Home Office Chair | 3-Years Limited Warranty by beAAtho, Tilting & Height Adjustable Mechanism, Heavy Duty Metal Base | Ideal for Office Work & Study (Grey) - Score: 1.04 (Time: 1.04, Volatility: 0.50, Alerts: 0.00, Recent changes: 0.00)
2025-05-27 20:09:39,886 - services.scheduler - INFO -   7. Product 7: Casio FX-CG50 Scientific Graphic Calculator (Black) - Score: 0.19 (Time: 0.19, Volatility: 0.50, Alerts: 0.00, Recent changes: 0.00)
2025-05-27 20:09:39,887 - services.scheduler - INFO -   8. Product 8: Chemist at Play Brightening Roll On For Neck, Knee & Elbow With 6% Vitamin C+ Hyaluronic Acid, AHAs, Niacinamide, & Ceramides | Helps Reduction in Pigmentation & Hydrates Dry Skin | 40ml - Score: 0.17 (Time: 0.17, Volatility: 0.50, Alerts: 0.00, Recent changes: 0.00)
2025-05-27 20:09:39,888 - services.scheduler - INFO - Processing product 1/8: MSI PRO MP225 21.5 Inch Full HD Office Monitor - 1920 x 1080 IPS Panel, 100 Hz, Eye-Friendly Screen, Tilt-Adjustable - HDMI, D-Sub (VGA) (ID: 1, Priority: 2.00)
2025-05-27 20:09:39,888 - services.scheduler - INFO - Updating prices for product: MSI PRO MP225 21.5 Inch Full HD Office Monitor - 1920 x 1080 IPS Panel, 100 Hz, Eye-Friendly Screen, Tilt-Adjustable - HDMI, D-Sub (VGA) (ID: 1)
2025-05-27 20:09:39,890 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0D7LKX76Y
2025-05-27 20:09:39,890 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 20:09:39,892 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 20:09:39,893 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0D7LKX76Y
2025-05-27 20:09:39,894 - services.scraper - INFO - Extracted product ID from URL: B0D7LKX76Y
2025-05-27 20:09:39,894 - services.scraper - INFO - Waiting 1.70 seconds before attempt 1/5
2025-05-27 20:09:40,650 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-05-27 20:09:41,261 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-27 20:09:41,592 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 20:09:44,473 - __main__ - INFO - CORS configured for all origins (development mode)
2025-05-27 20:09:44,510 - models.db - INFO - Database tables created or verified
2025-05-27 20:09:44,516 - __main__ - INFO - Initializing scheduler for non-serverless environment
2025-05-27 20:09:44,516 - __main__ - INFO - Scheduler config: check_interval=30m, max_products=100
2025-05-27 20:09:44,593 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-27 20:09:44,595 - apscheduler.scheduler - INFO - Added job "update_all_prices" to job store "default"
2025-05-27 20:09:44,596 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 20:09:44,596 - __main__ - INFO - Price update scheduler started with interval: 30 minutes
2025-05-27 20:09:44,617 - werkzeug - WARNING -  * Debugger is active!
2025-05-27 20:09:44,626 - werkzeug - INFO -  * Debugger PIN: 316-319-957
2025-05-27 20:09:45,729 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 20:09:45,731 - services.scraper - INFO - Waiting 1.80 seconds before attempt 2/5
2025-05-27 20:09:47,537 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 20:09:50,644 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:09:50] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:09:51,457 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 20:09:51,458 - services.scraper - INFO - Waiting 2.82 seconds before attempt 3/5
2025-05-27 20:09:54,283 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 20:09:58,174 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 20:09:58,175 - services.scraper - INFO - Waiting 2.36 seconds before attempt 4/5
2025-05-27 20:10:00,533 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 20:10:04,405 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 20:10:04,408 - services.scraper - INFO - Waiting 1.25 seconds before attempt 5/5
2025-05-27 20:10:05,657 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 20:10:09,420 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 20:10:09,421 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 20:10:09,421 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0D7LKX76Y
2025-05-27 20:10:13,832 - services.scraper - INFO - Successfully extracted product name from mobile site: Consider these available items
2025-05-27 20:10:13,856 - services.scraper - INFO - Successfully scraped Amazon product: Consider these available items
2025-05-27 20:10:13,858 - services.scheduler - ERROR - Error updating main platform price for product 1: 'recorded_at' is an invalid keyword argument for PriceRecord
2025-05-27 20:10:13,884 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\state.py', reloading
2025-05-27 20:10:13,886 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\util\\langhelpers.py', reloading
2025-05-27 20:10:13,889 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\AppData\\Roaming\\Python\\Python312\\site-packages\\sqlalchemy\\orm\\decl_base.py', reloading
2025-05-27 20:10:13,889 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0D7LKX76Y
2025-05-27 20:10:13,890 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 20:10:13,892 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 20:10:13,892 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0D7LKX76Y
2025-05-27 20:10:13,893 - services.scraper - INFO - Extracted product ID from URL: B0D7LKX76Y
2025-05-27 20:10:13,894 - services.scraper - INFO - Waiting 1.93 seconds before attempt 1/5
2025-05-27 20:10:14,441 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-05-27 20:10:15,017 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-27 20:10:15,828 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 20:10:17,716 - __main__ - INFO - CORS configured for all origins (development mode)
2025-05-27 20:10:17,749 - models.db - INFO - Database tables created or verified
2025-05-27 20:10:17,755 - __main__ - INFO - Initializing scheduler for non-serverless environment
2025-05-27 20:10:17,755 - __main__ - INFO - Scheduler config: check_interval=30m, max_products=100
2025-05-27 20:10:17,838 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-27 20:10:17,841 - apscheduler.scheduler - INFO - Added job "update_all_prices" to job store "default"
2025-05-27 20:10:17,842 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 20:10:17,843 - __main__ - INFO - Price update scheduler started with interval: 30 minutes
2025-05-27 20:10:17,871 - werkzeug - WARNING -  * Debugger is active!
2025-05-27 20:10:17,879 - werkzeug - INFO -  * Debugger PIN: 316-319-957
2025-05-27 20:10:19,552 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 20:10:19,555 - services.scraper - INFO - Waiting 2.45 seconds before attempt 2/5
2025-05-27 20:10:21,549 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:10:21] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:10:22,004 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 20:10:26,019 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 20:10:26,020 - services.scraper - INFO - Waiting 2.71 seconds before attempt 3/5
2025-05-27 20:10:28,729 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 20:10:32,345 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 20:10:32,346 - services.scraper - INFO - Waiting 2.41 seconds before attempt 4/5
2025-05-27 20:10:34,754 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 20:10:38,090 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 20:10:38,090 - services.scraper - INFO - Waiting 2.55 seconds before attempt 5/5
2025-05-27 20:10:40,646 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 20:10:44,048 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 20:10:44,048 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 20:10:44,049 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0D7LKX76Y
2025-05-27 20:10:47,778 - services.scraper - INFO - Successfully extracted product name from mobile site: Consider these available items
2025-05-27 20:10:47,786 - services.scraper - INFO - Successfully scraped Amazon product: Consider these available items
2025-05-27 20:10:48,776 - services.ai_service - ERROR - Error enhancing metadata with Gemini AI: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 20:10:49,354 - services.ai_service - ERROR - Error enhancing metadata with Groq AI: 401 Client Error: Unauthorized for url: https://api.groq.com/openai/v1/chat/completions
2025-05-27 20:10:50,278 - services.ai_service - INFO - Starting product comparison for: Consider these available items
2025-05-27 20:10:50,279 - services.ai_service - INFO - Brand: Consider, Model: 
2025-05-27 20:10:50,280 - services.ai_service - INFO - Extracted keywords for search: ['consider', 'consider', 'these', 'available', 'items', 'consider these available items']
2025-05-27 20:10:50,280 - services.ai_service - INFO - Using optimized search query for comparison: Consider these available items
2025-05-27 20:10:51,240 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:10:51] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:10:51,329 - services.ai_service - WARNING - Error using Gemini for platform search: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 20:10:51,869 - services.ai_service - ERROR - Error using AI for platform search: 401 Client Error: Unauthorized for url: https://api.groq.com/openai/v1/chat/completions
2025-05-27 20:10:51,872 - services.scheduler - INFO - Found 5 potential comparisons for product 1 on other platforms.
2025-05-27 20:10:53,359 - services.flipkart_scraper - INFO - Attempting to scrape Flipkart price from: https://www.flipkart.com/search?q=Consider these available items
2025-05-27 20:10:55,797 - services.flipkart_scraper - WARNING - Could not find price element for Flipkart URL: https://www.flipkart.com/search?q=Consider these available items
2025-05-27 20:10:55,801 - services.scheduler - WARNING - Failed to scrape price from Flipkart URL: https://www.flipkart.com/search?q=Consider these available items for product 1
2025-05-27 20:10:56,904 - services.scheduler - WARNING - Failed to scrape price from Snapdeal URL: https://www.snapdeal.com/search?keyword=Consider these available items for product 1
2025-05-27 20:10:58,168 - services.scheduler - WARNING - Failed to scrape price from Reliance Digital URL: https://www.reliancedigital.in/search?q=Consider these available items for product 1
2025-05-27 20:10:58,866 - services.scheduler - WARNING - Failed to scrape price from Tata Cliq URL: https://www.tatacliq.com/search/?searchCategory=all&text=Consider these available items for product 1
2025-05-27 20:10:59,952 - services.scheduler - WARNING - Failed to scrape price from Croma URL: https://www.croma.com/searchB?q=Consider these available items for product 1
2025-05-27 20:10:59,953 - services.scheduler - ERROR - Error updating product 1 (attempt 1/3): 'recorded_at' is an invalid keyword argument for PriceRecord
2025-05-27 20:10:59,958 - services.scheduler - INFO - Retry attempt 2 for product 1 after 1.31s delay
2025-05-27 20:11:01,275 - services.scheduler - INFO - Updating prices for product: MSI PRO MP225 21.5 Inch Full HD Office Monitor - 1920 x 1080 IPS Panel, 100 Hz, Eye-Friendly Screen, Tilt-Adjustable - HDMI, D-Sub (VGA) (ID: 1)
2025-05-27 20:11:01,276 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0D7LKX76Y
2025-05-27 20:11:01,276 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 20:11:01,277 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 20:11:01,277 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0D7LKX76Y
2025-05-27 20:11:01,278 - services.scraper - INFO - Extracted product ID from URL: B0D7LKX76Y
2025-05-27 20:11:01,278 - services.scraper - INFO - Waiting 1.80 seconds before attempt 1/5
2025-05-27 20:11:03,075 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 20:11:06,135 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 20:11:06,136 - services.scraper - INFO - Waiting 1.52 seconds before attempt 2/5
2025-05-27 20:11:07,657 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 20:11:10,752 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 20:11:10,753 - services.scraper - INFO - Waiting 2.48 seconds before attempt 3/5
2025-05-27 20:11:13,238 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 20:11:18,570 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 20:11:18,570 - services.scraper - INFO - Waiting 1.71 seconds before attempt 4/5
2025-05-27 20:11:20,277 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 20:11:23,664 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 20:11:23,665 - services.scraper - INFO - Waiting 1.61 seconds before attempt 5/5
2025-05-27 20:11:25,274 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 20:11:28,680 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 20:11:28,681 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 20:11:28,681 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0D7LKX76Y
2025-05-27 20:11:32,459 - services.scraper - INFO - Successfully extracted product name from mobile site: Consider these available items
2025-05-27 20:11:32,470 - services.scraper - INFO - Successfully scraped Amazon product: Consider these available items
2025-05-27 20:11:32,470 - services.scheduler - ERROR - Error updating main platform price for product 1: 'recorded_at' is an invalid keyword argument for PriceRecord
2025-05-27 20:11:32,471 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0D7LKX76Y
2025-05-27 20:11:32,472 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 20:11:32,472 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 20:11:32,472 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0D7LKX76Y
2025-05-27 20:11:32,473 - services.scraper - INFO - Extracted product ID from URL: B0D7LKX76Y
2025-05-27 20:11:32,473 - services.scraper - INFO - Waiting 1.86 seconds before attempt 1/5
2025-05-27 20:11:34,339 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 20:11:37,670 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 20:11:37,671 - services.scraper - INFO - Waiting 1.25 seconds before attempt 2/5
2025-05-27 20:11:38,924 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 20:11:41,909 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 20:11:41,910 - services.scraper - INFO - Waiting 1.70 seconds before attempt 3/5
2025-05-27 20:11:43,608 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 20:11:46,880 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 20:11:46,880 - services.scraper - INFO - Waiting 1.80 seconds before attempt 4/5
2025-05-27 20:11:48,679 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 20:11:51,732 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 20:11:51,733 - services.scraper - INFO - Waiting 1.56 seconds before attempt 5/5
2025-05-27 20:11:53,294 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 20:11:56,206 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 20:11:56,207 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 20:11:56,208 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0D7LKX76Y
2025-05-27 20:11:59,046 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:11:59] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:11:59,693 - services.scraper - INFO - Successfully extracted product name from mobile site: Consider these available items
2025-05-27 20:11:59,707 - services.scraper - INFO - Successfully scraped Amazon product: Consider these available items
2025-05-27 20:12:00,633 - services.ai_service - ERROR - Error enhancing metadata with Gemini AI: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 20:12:01,267 - services.ai_service - ERROR - Error enhancing metadata with Groq AI: 401 Client Error: Unauthorized for url: https://api.groq.com/openai/v1/chat/completions
2025-05-27 20:12:02,736 - services.ai_service - INFO - Starting product comparison for: Consider these available items
2025-05-27 20:12:02,737 - services.ai_service - INFO - Brand: Consider, Model: 
2025-05-27 20:12:02,738 - services.ai_service - INFO - Extracted keywords for search: ['consider', 'consider', 'these', 'available', 'items', 'consider these available items']
2025-05-27 20:12:02,739 - services.ai_service - INFO - Using optimized search query for comparison: Consider these available items
2025-05-27 20:12:03,740 - services.ai_service - WARNING - Error using Gemini for platform search: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 20:12:04,470 - services.ai_service - ERROR - Error using AI for platform search: 401 Client Error: Unauthorized for url: https://api.groq.com/openai/v1/chat/completions
2025-05-27 20:12:04,477 - services.scheduler - INFO - Found 5 potential comparisons for product 1 on other platforms.
2025-05-27 20:12:05,695 - services.flipkart_scraper - INFO - Attempting to scrape Flipkart price from: https://www.flipkart.com/search?q=Consider these available items
2025-05-27 20:12:06,837 - services.flipkart_scraper - WARNING - Could not find price element for Flipkart URL: https://www.flipkart.com/search?q=Consider these available items
2025-05-27 20:12:06,841 - services.scheduler - WARNING - Failed to scrape price from Flipkart URL: https://www.flipkart.com/search?q=Consider these available items for product 1
2025-05-27 20:12:07,971 - services.scheduler - WARNING - Failed to scrape price from Snapdeal URL: https://www.snapdeal.com/search?keyword=Consider these available items for product 1
2025-05-27 20:12:09,376 - services.scheduler - WARNING - Failed to scrape price from Reliance Digital URL: https://www.reliancedigital.in/search?q=Consider these available items for product 1
2025-05-27 20:12:09,974 - services.scheduler - WARNING - Failed to scrape price from Tata Cliq URL: https://www.tatacliq.com/search/?searchCategory=all&text=Consider these available items for product 1
2025-05-27 20:12:11,246 - services.scheduler - WARNING - Failed to scrape price from Croma URL: https://www.croma.com/searchB?q=Consider these available items for product 1
2025-05-27 20:12:11,248 - services.scheduler - ERROR - Error updating product 1 (attempt 2/3): 'recorded_at' is an invalid keyword argument for PriceRecord
2025-05-27 20:12:11,254 - services.scheduler - INFO - Retry attempt 3 for product 1 after 3.62s delay
2025-05-27 20:12:14,871 - services.scheduler - INFO - Updating prices for product: MSI PRO MP225 21.5 Inch Full HD Office Monitor - 1920 x 1080 IPS Panel, 100 Hz, Eye-Friendly Screen, Tilt-Adjustable - HDMI, D-Sub (VGA) (ID: 1)
2025-05-27 20:12:14,872 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0D7LKX76Y
2025-05-27 20:12:14,873 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 20:12:14,874 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 20:12:14,875 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0D7LKX76Y
2025-05-27 20:12:14,876 - services.scraper - INFO - Extracted product ID from URL: B0D7LKX76Y
2025-05-27 20:12:14,876 - services.scraper - INFO - Waiting 1.31 seconds before attempt 1/5
2025-05-27 20:12:16,184 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 20:12:19,362 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 20:12:19,363 - services.scraper - INFO - Waiting 1.02 seconds before attempt 2/5
2025-05-27 20:12:20,380 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 20:12:21,242 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:12:21] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:12:23,744 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 20:12:23,745 - services.scraper - INFO - Waiting 1.97 seconds before attempt 3/5
2025-05-27 20:12:25,718 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 20:12:29,099 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 20:12:29,100 - services.scraper - INFO - Waiting 1.92 seconds before attempt 4/5
2025-05-27 20:12:31,025 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 20:12:34,143 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 20:12:34,143 - services.scraper - INFO - Waiting 2.02 seconds before attempt 5/5
2025-05-27 20:12:36,166 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 20:12:39,283 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 20:12:39,283 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 20:12:39,284 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0D7LKX76Y
2025-05-27 20:12:42,999 - services.scraper - INFO - Successfully extracted product name from mobile site: Consider these available items
2025-05-27 20:12:43,009 - services.scraper - INFO - Successfully scraped Amazon product: Consider these available items
2025-05-27 20:12:43,010 - services.scheduler - ERROR - Error updating main platform price for product 1: 'recorded_at' is an invalid keyword argument for PriceRecord
2025-05-27 20:12:43,011 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0D7LKX76Y
2025-05-27 20:12:43,013 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 20:12:43,013 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 20:12:43,013 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0D7LKX76Y
2025-05-27 20:12:43,014 - services.scraper - INFO - Extracted product ID from URL: B0D7LKX76Y
2025-05-27 20:12:43,014 - services.scraper - INFO - Waiting 1.57 seconds before attempt 1/5
2025-05-27 20:12:44,584 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 20:12:48,043 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 20:12:48,044 - services.scraper - INFO - Waiting 2.12 seconds before attempt 2/5
2025-05-27 20:12:50,166 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 20:12:51,553 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:12:51] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:12:53,348 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 20:12:53,349 - services.scraper - INFO - Waiting 1.90 seconds before attempt 3/5
2025-05-27 20:12:55,245 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 20:12:58,298 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 20:12:58,299 - services.scraper - INFO - Waiting 3.27 seconds before attempt 4/5
2025-05-27 20:13:01,574 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 20:13:04,776 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 20:13:04,777 - services.scraper - INFO - Waiting 1.78 seconds before attempt 5/5
2025-05-27 20:13:06,560 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 20:13:09,794 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 20:13:09,795 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 20:13:09,795 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0D7LKX76Y
2025-05-27 20:13:13,221 - services.scraper - INFO - Successfully extracted product name from mobile site: Consider these available items
2025-05-27 20:13:13,235 - services.scraper - INFO - Successfully scraped Amazon product: Consider these available items
2025-05-27 20:13:14,160 - services.ai_service - ERROR - Error enhancing metadata with Gemini AI: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 20:13:14,795 - services.ai_service - ERROR - Error enhancing metadata with Groq AI: 401 Client Error: Unauthorized for url: https://api.groq.com/openai/v1/chat/completions
2025-05-27 20:13:15,465 - services.ai_service - INFO - Starting product comparison for: Consider these available items
2025-05-27 20:13:15,467 - services.ai_service - INFO - Brand: Consider, Model: 
2025-05-27 20:13:15,467 - services.ai_service - INFO - Extracted keywords for search: ['consider', 'consider', 'these', 'available', 'items', 'consider these available items']
2025-05-27 20:13:15,468 - services.ai_service - INFO - Using optimized search query for comparison: Consider these available items
2025-05-27 20:13:16,403 - services.ai_service - WARNING - Error using Gemini for platform search: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 20:13:17,009 - services.ai_service - ERROR - Error using AI for platform search: 401 Client Error: Unauthorized for url: https://api.groq.com/openai/v1/chat/completions
2025-05-27 20:13:17,016 - services.scheduler - INFO - Found 5 potential comparisons for product 1 on other platforms.
2025-05-27 20:13:17,861 - services.flipkart_scraper - INFO - Attempting to scrape Flipkart price from: https://www.flipkart.com/search?q=Consider these available items
2025-05-27 20:13:18,868 - services.flipkart_scraper - WARNING - Could not find price element for Flipkart URL: https://www.flipkart.com/search?q=Consider these available items
2025-05-27 20:13:18,871 - services.scheduler - WARNING - Failed to scrape price from Flipkart URL: https://www.flipkart.com/search?q=Consider these available items for product 1
2025-05-27 20:13:19,531 - services.scheduler - WARNING - Failed to scrape price from Snapdeal URL: https://www.snapdeal.com/search?keyword=Consider these available items for product 1
2025-05-27 20:13:20,104 - services.scheduler - WARNING - Failed to scrape price from Reliance Digital URL: https://www.reliancedigital.in/search?q=Consider these available items for product 1
2025-05-27 20:13:20,719 - services.scheduler - WARNING - Failed to scrape price from Tata Cliq URL: https://www.tatacliq.com/search/?searchCategory=all&text=Consider these available items for product 1
2025-05-27 20:13:21,498 - services.scheduler - WARNING - Failed to scrape price from Croma URL: https://www.croma.com/searchB?q=Consider these available items for product 1
2025-05-27 20:13:21,499 - services.scheduler - ERROR - Error updating product 1 (attempt 3/3): 'recorded_at' is an invalid keyword argument for PriceRecord
2025-05-27 20:13:21,505 - services.scheduler - ERROR - Failed to update product 1 after 3 attempts
2025-05-27 20:13:21,508 - services.scheduler - INFO - Processing product 2/8: Nutrabay Gold Vital Whey Protein Powder - 1kg, Gourmet Vanilla | 20g Protein for Beginners | Added Vitamins & Minerals | Muscle Growth & Faster Recovery | Gym Supplement for Men & Women (ID: 2, Priority: 1.91)
2025-05-27 20:13:22,099 - services.scheduler - INFO - Updating prices for product: Nutrabay Gold Vital Whey Protein Powder - 1kg, Gourmet Vanilla | 20g Protein for Beginners | Added Vitamins & Minerals | Muscle Growth & Faster Recovery | Gym Supplement for Men & Women (ID: 2)
2025-05-27 20:13:22,100 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0B97NZLD3
2025-05-27 20:13:22,100 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 20:13:22,101 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 20:13:22,101 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0B97NZLD3
2025-05-27 20:13:22,102 - services.scraper - INFO - Extracted product ID from URL: B0B97NZLD3
2025-05-27 20:13:22,102 - services.scraper - INFO - Waiting 1.36 seconds before attempt 1/5
2025-05-27 20:13:23,464 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 20:13:27,569 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 20:13:27,570 - services.scraper - INFO - Waiting 1.16 seconds before attempt 2/5
2025-05-27 20:13:28,732 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 20:13:32,882 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 20:13:32,883 - services.scraper - INFO - Waiting 2.28 seconds before attempt 3/5
2025-05-27 20:13:35,165 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 20:13:40,372 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 20:13:40,374 - services.scraper - INFO - Waiting 2.46 seconds before attempt 4/5
2025-05-27 20:13:42,841 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 20:13:46,979 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 20:13:46,980 - services.scraper - INFO - Waiting 2.19 seconds before attempt 5/5
2025-05-27 20:13:49,174 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 20:13:53,564 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 20:13:53,566 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 20:13:53,567 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0B97NZLD3
2025-05-27 20:13:59,470 - services.scraper - INFO - Successfully extracted product name from mobile site: Nutrabay Gold Vital Whey Protein Powder - 1kg, Gourmet Vanilla | 20g Protein for Beginners | Added Vitamins & Minerals | Muscle Growth & Faster Recovery | Gym Supplement for Men & Women
2025-05-27 20:13:59,558 - services.scraper - INFO - Successfully scraped Amazon product: Nutrabay Gold Vital Whey Protein Powder - 1kg, Gourmet Vanilla | 20g Protein for Beginners | Added Vitamins & Minerals | Muscle Growth & Faster Recovery | Gym Supplement for Men & Women
2025-05-27 20:13:59,561 - services.scheduler - WARNING - Failed to scrape price for main product URL https://www.amazon.in/dp/B0B97NZLD3 (ID: 2)
2025-05-27 20:13:59,562 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0B97NZLD3
2025-05-27 20:13:59,565 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 20:13:59,566 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 20:13:59,567 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0B97NZLD3
2025-05-27 20:13:59,567 - services.scraper - INFO - Extracted product ID from URL: B0B97NZLD3
2025-05-27 20:13:59,568 - services.scraper - INFO - Waiting 1.00 seconds before attempt 1/5
2025-05-27 20:14:00,571 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 20:14:04,990 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 20:14:04,992 - services.scraper - INFO - Waiting 2.41 seconds before attempt 2/5
2025-05-27 20:14:07,406 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 20:14:11,621 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 20:14:11,622 - services.scraper - INFO - Waiting 2.69 seconds before attempt 3/5
2025-05-27 20:14:14,310 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 20:14:15,545 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:14:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:14:18,519 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 20:14:18,521 - services.scraper - INFO - Waiting 2.99 seconds before attempt 4/5
2025-05-27 20:14:21,515 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 20:14:25,880 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 20:14:25,881 - services.scraper - INFO - Waiting 2.00 seconds before attempt 5/5
2025-05-27 20:14:27,887 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 20:14:32,082 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 20:14:32,083 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 20:14:32,084 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0B97NZLD3
2025-05-27 20:14:37,926 - services.scraper - INFO - Successfully extracted product name from mobile site: Nutrabay Gold Vital Whey Protein Powder - 1kg, Gourmet Vanilla | 20g Protein for Beginners | Added Vitamins & Minerals | Muscle Growth & Faster Recovery | Gym Supplement for Men & Women
2025-05-27 20:14:38,011 - services.scraper - INFO - Successfully scraped Amazon product: Nutrabay Gold Vital Whey Protein Powder - 1kg, Gourmet Vanilla | 20g Protein for Beginners | Added Vitamins & Minerals | Muscle Growth & Faster Recovery | Gym Supplement for Men & Women
2025-05-27 20:14:39,355 - services.ai_service - ERROR - Error enhancing metadata with Gemini AI: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 20:14:40,373 - services.ai_service - ERROR - Error enhancing metadata with Groq AI: 401 Client Error: Unauthorized for url: https://api.groq.com/openai/v1/chat/completions
2025-05-27 20:14:41,559 - services.ai_service - INFO - Starting product comparison for: Nutrabay Gold Vital Whey Protein Powder - 1kg, Gourmet Vanilla | 20g Protein for Beginners | Added Vitamins & Minerals | Muscle Growth & Faster Recovery | Gym Supplement for Men & Women
2025-05-27 20:14:41,560 - services.ai_service - INFO - Brand: Nutrabay, Model: 
2025-05-27 20:14:41,561 - services.ai_service - INFO - Extracted keywords for search: ['nutrabay', 'nutrabay', 'gold', 'vital', 'whey', 'protein', 'powder', '1kg,', 'gourmet', 'vanilla', '20g', 'protein', 'beginners', 'added', 'vitamins', 'minerals', 'muscle', 'growth', 'faster', 'recovery', 'supplement', 'women', 'nutrabay gold vital whey protein powder - 1kg, gourmet vanilla | 20g protein for beginners | added vitamins & minerals | muscle growth & faster recovery | gym supplement for men & women']
2025-05-27 20:14:41,562 - services.ai_service - INFO - Using optimized search query for comparison: Nutrabay Gold Vital Whey Protein Powder - 1kg, Gourmet Vanilla | 20g Protein for Beginners | Added Vitamins & Minerals | Muscle Growth & Faster Recovery | Gym Supplement for Men & Women
2025-05-27 20:14:42,937 - services.ai_service - WARNING - Error using Gemini for platform search: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 20:14:43,965 - services.ai_service - ERROR - Error using AI for platform search: 401 Client Error: Unauthorized for url: https://api.groq.com/openai/v1/chat/completions
2025-05-27 20:14:43,968 - services.scheduler - INFO - Found 5 potential comparisons for product 2 on other platforms.
2025-05-27 20:14:44,658 - services.flipkart_scraper - INFO - Attempting to scrape Flipkart price from: https://www.flipkart.com/search?q=Nutrabay Gold Vital Whey Protein Powder - 1kg, Gourmet Vanilla | 20g Protein for Beginners | Added Vitamins & Minerals | Muscle Growth & Faster Recovery | Gym Supplement for Men & Women
2025-05-27 20:14:48,007 - services.flipkart_scraper - WARNING - Could not find price element for Flipkart URL: https://www.flipkart.com/search?q=Nutrabay Gold Vital Whey Protein Powder - 1kg, Gourmet Vanilla | 20g Protein for Beginners | Added Vitamins & Minerals | Muscle Growth & Faster Recovery | Gym Supplement for Men & Women
2025-05-27 20:14:48,012 - services.scheduler - WARNING - Failed to scrape price from Flipkart URL: https://www.flipkart.com/search?q=Nutrabay Gold Vital Whey Protein Powder - 1kg, Gourmet Vanilla | 20g Protein for Beginners | Added Vitamins & Minerals | Muscle Growth & Faster Recovery | Gym Supplement for Men & Women for product 2
2025-05-27 20:14:48,919 - services.scheduler - WARNING - Failed to scrape price from Snapdeal URL: https://www.snapdeal.com/search?keyword=Nutrabay Gold Vital Whey Protein Powder - 1kg, Gourmet Vanilla | 20g Protein for Beginners | Added Vitamins & Minerals | Muscle Growth & Faster Recovery | Gym Supplement for Men & Women for product 2
2025-05-27 20:14:50,020 - services.scheduler - WARNING - Failed to scrape price from Reliance Digital URL: https://www.reliancedigital.in/search?q=Nutrabay Gold Vital Whey Protein Powder - 1kg, Gourmet Vanilla | 20g Protein for Beginners | Added Vitamins & Minerals | Muscle Growth & Faster Recovery | Gym Supplement for Men & Women for product 2
2025-05-27 20:14:50,900 - services.scheduler - WARNING - Failed to scrape price from Tata Cliq URL: https://www.tatacliq.com/search/?searchCategory=all&text=Nutrabay Gold Vital Whey Protein Powder - 1kg, Gourmet Vanilla | 20g Protein for Beginners | Added Vitamins & Minerals | Muscle Growth & Faster Recovery | Gym Supplement for Men & Women for product 2
2025-05-27 20:14:51,997 - services.scheduler - WARNING - Failed to scrape price from Croma URL: https://www.croma.com/searchB?q=Nutrabay Gold Vital Whey Protein Powder - 1kg, Gourmet Vanilla | 20g Protein for Beginners | Added Vitamins & Minerals | Muscle Growth & Faster Recovery | Gym Supplement for Men & Women for product 2
2025-05-27 20:14:52,002 - services.scheduler - INFO - Successfully updated product 2 on attempt 1
2025-05-27 20:14:52,004 - services.scheduler - INFO - Processing product 3/8: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) (ID: 3, Priority: 1.90)
2025-05-27 20:14:53,305 - services.scheduler - INFO - Updating prices for product: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) (ID: 3)
2025-05-27 20:14:53,306 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0DSVS6P6G
2025-05-27 20:14:53,306 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 20:14:53,307 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 20:14:53,308 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0DSVS6P6G
2025-05-27 20:14:53,309 - services.scraper - INFO - Extracted product ID from URL: B0DSVS6P6G
2025-05-27 20:14:53,310 - services.scraper - INFO - Waiting 1.85 seconds before attempt 1/5
2025-05-27 20:14:55,164 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 20:14:59,543 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 20:14:59,544 - services.scraper - INFO - Waiting 2.14 seconds before attempt 2/5
2025-05-27 20:15:01,687 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 20:15:05,506 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 20:15:05,507 - services.scraper - INFO - Waiting 1.06 seconds before attempt 3/5
2025-05-27 20:15:06,569 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 20:15:10,544 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 20:15:10,545 - services.scraper - INFO - Waiting 2.13 seconds before attempt 4/5
2025-05-27 20:15:12,677 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 20:15:15,245 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:15:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:15:16,615 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 20:15:16,616 - services.scraper - INFO - Waiting 3.38 seconds before attempt 5/5
2025-05-27 20:15:19,998 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 20:15:26,190 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 20:15:26,192 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 20:15:26,193 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0DSVS6P6G
2025-05-27 20:15:34,698 - services.scraper - INFO - Successfully extracted product name from mobile site: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 20:15:35,114 - services.scraper - INFO - Successfully scraped Amazon product: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 20:15:35,117 - services.scheduler - ERROR - Error updating main platform price for product 3: 'recorded_at' is an invalid keyword argument for PriceRecord
2025-05-27 20:15:35,119 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0DSVS6P6G
2025-05-27 20:15:35,122 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 20:15:35,122 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 20:15:35,123 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0DSVS6P6G
2025-05-27 20:15:35,124 - services.scraper - INFO - Extracted product ID from URL: B0DSVS6P6G
2025-05-27 20:15:35,125 - services.scraper - INFO - Waiting 1.41 seconds before attempt 1/5
2025-05-27 20:15:36,535 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 20:15:40,570 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 20:15:40,571 - services.scraper - INFO - Waiting 1.35 seconds before attempt 2/5
2025-05-27 20:15:41,921 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 20:15:45,824 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 20:15:45,825 - services.scraper - INFO - Waiting 2.94 seconds before attempt 3/5
2025-05-27 20:15:48,769 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 20:15:52,810 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 20:15:52,811 - services.scraper - INFO - Waiting 2.50 seconds before attempt 4/5
2025-05-27 20:15:55,313 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 20:15:59,313 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 20:15:59,314 - services.scraper - INFO - Waiting 2.45 seconds before attempt 5/5
2025-05-27 20:16:01,765 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 20:16:05,666 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 20:16:05,668 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 20:16:05,669 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0DSVS6P6G
2025-05-27 20:16:14,218 - services.scraper - INFO - Successfully extracted product name from mobile site: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 20:16:14,662 - services.scraper - INFO - Successfully scraped Amazon product: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 20:16:15,548 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:16:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:16:16,131 - services.ai_service - ERROR - Error enhancing metadata with Gemini AI: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 20:16:17,094 - services.ai_service - ERROR - Error enhancing metadata with Groq AI: 401 Client Error: Unauthorized for url: https://api.groq.com/openai/v1/chat/completions
2025-05-27 20:16:18,133 - services.ai_service - INFO - Starting product comparison for: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 20:16:18,135 - services.ai_service - INFO - Brand: Panasonic, Model: 
2025-05-27 20:16:18,136 - services.ai_service - INFO - Extracted keywords for search: ['panasonic', 'panasonic', '1.5', 'star', 'premium', 'wi-fi', 'inverter', 'smart', 'split', '(matter', 'enabled,', 'higher', 'airflow,', 'copper', 'condenser,', '7in1', 'convertible,', 'true', '2-way,', '0.1', 'filter,', 'cs/cu-su18aky3w,', 'white)', 'panasonic 1.5 ton 3 star premium wi-fi inverter smart split ac (matter enabled, higher airflow, copper condenser, 7in1 convertible, true ai, 2-way, pm 0.1 filter, cs/cu-su18aky3w, white)']
2025-05-27 20:16:18,136 - services.ai_service - INFO - Using optimized search query for comparison: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 20:16:19,451 - services.ai_service - WARNING - Error using Gemini for platform search: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 20:16:20,496 - services.ai_service - ERROR - Error using AI for platform search: 401 Client Error: Unauthorized for url: https://api.groq.com/openai/v1/chat/completions
2025-05-27 20:16:20,502 - services.scheduler - INFO - Found 5 potential comparisons for product 3 on other platforms.
2025-05-27 20:16:21,197 - services.flipkart_scraper - INFO - Attempting to scrape Flipkart price from: https://www.flipkart.com/search?q=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 20:16:23,878 - services.flipkart_scraper - WARNING - Could not find price element for Flipkart URL: https://www.flipkart.com/search?q=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 20:16:23,884 - services.scheduler - WARNING - Failed to scrape price from Flipkart URL: https://www.flipkart.com/search?q=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) for product 3
2025-05-27 20:16:24,472 - services.scheduler - WARNING - Failed to scrape price from Snapdeal URL: https://www.snapdeal.com/search?keyword=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) for product 3
2025-05-27 20:16:25,097 - services.scheduler - WARNING - Failed to scrape price from Reliance Digital URL: https://www.reliancedigital.in/search?q=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) for product 3
2025-05-27 20:16:26,599 - services.scheduler - WARNING - Failed to scrape price from Tata Cliq URL: https://www.tatacliq.com/search/?searchCategory=all&text=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) for product 3
2025-05-27 20:16:27,550 - services.scheduler - WARNING - Failed to scrape price from Croma URL: https://www.croma.com/searchB?q=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) for product 3
2025-05-27 20:16:27,551 - services.scheduler - ERROR - Error updating product 3 (attempt 1/3): 'recorded_at' is an invalid keyword argument for PriceRecord
2025-05-27 20:16:27,557 - services.scheduler - INFO - Retry attempt 2 for product 3 after 2.93s delay
2025-05-27 20:16:30,487 - services.scheduler - INFO - Updating prices for product: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) (ID: 3)
2025-05-27 20:16:30,488 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0DSVS6P6G
2025-05-27 20:16:30,489 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 20:16:30,490 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 20:16:30,491 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0DSVS6P6G
2025-05-27 20:16:30,492 - services.scraper - INFO - Extracted product ID from URL: B0DSVS6P6G
2025-05-27 20:16:30,493 - services.scraper - INFO - Waiting 1.13 seconds before attempt 1/5
2025-05-27 20:16:31,627 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 20:16:35,426 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 20:16:35,427 - services.scraper - INFO - Waiting 1.46 seconds before attempt 2/5
2025-05-27 20:16:36,885 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 20:16:40,776 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 20:16:40,777 - services.scraper - INFO - Waiting 2.46 seconds before attempt 3/5
2025-05-27 20:16:43,234 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 20:16:47,150 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 20:16:47,152 - services.scraper - INFO - Waiting 3.32 seconds before attempt 4/5
2025-05-27 20:16:50,476 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 20:16:54,215 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 20:16:54,217 - services.scraper - INFO - Waiting 1.71 seconds before attempt 5/5
2025-05-27 20:16:55,930 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 20:16:59,664 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 20:16:59,665 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 20:16:59,665 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0DSVS6P6G
2025-05-27 20:17:08,179 - services.scraper - INFO - Successfully extracted product name from mobile site: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 20:17:08,570 - services.scraper - INFO - Successfully scraped Amazon product: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 20:17:08,572 - services.scheduler - ERROR - Error updating main platform price for product 3: 'recorded_at' is an invalid keyword argument for PriceRecord
2025-05-27 20:17:08,574 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0DSVS6P6G
2025-05-27 20:17:08,574 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 20:17:08,575 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 20:17:08,576 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0DSVS6P6G
2025-05-27 20:17:08,578 - services.scraper - INFO - Extracted product ID from URL: B0DSVS6P6G
2025-05-27 20:17:08,579 - services.scraper - INFO - Waiting 1.74 seconds before attempt 1/5
2025-05-27 20:17:10,321 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 20:17:14,108 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 20:17:14,111 - services.scraper - INFO - Waiting 1.22 seconds before attempt 2/5
2025-05-27 20:17:15,243 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:17:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:17:15,335 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 20:17:19,255 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 20:17:19,256 - services.scraper - INFO - Waiting 1.81 seconds before attempt 3/5
2025-05-27 20:17:21,067 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 20:17:25,068 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 20:17:25,069 - services.scraper - INFO - Waiting 1.38 seconds before attempt 4/5
2025-05-27 20:17:26,453 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 20:17:30,676 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 20:17:30,677 - services.scraper - INFO - Waiting 2.60 seconds before attempt 5/5
2025-05-27 20:17:33,278 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 20:17:37,657 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 20:17:37,659 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 20:17:37,659 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0DSVS6P6G
2025-05-27 20:17:46,365 - services.scraper - INFO - Successfully extracted product name from mobile site: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 20:17:46,781 - services.scraper - INFO - Successfully scraped Amazon product: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 20:17:49,306 - services.ai_service - ERROR - Error enhancing metadata with Gemini AI: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 20:17:50,393 - services.ai_service - ERROR - Error enhancing metadata with Groq AI: 401 Client Error: Unauthorized for url: https://api.groq.com/openai/v1/chat/completions
2025-05-27 20:17:51,598 - services.ai_service - INFO - Starting product comparison for: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 20:17:51,600 - services.ai_service - INFO - Brand: Panasonic, Model: 
2025-05-27 20:17:51,601 - services.ai_service - INFO - Extracted keywords for search: ['panasonic', 'panasonic', '1.5', 'star', 'premium', 'wi-fi', 'inverter', 'smart', 'split', '(matter', 'enabled,', 'higher', 'airflow,', 'copper', 'condenser,', '7in1', 'convertible,', 'true', '2-way,', '0.1', 'filter,', 'cs/cu-su18aky3w,', 'white)', 'panasonic 1.5 ton 3 star premium wi-fi inverter smart split ac (matter enabled, higher airflow, copper condenser, 7in1 convertible, true ai, 2-way, pm 0.1 filter, cs/cu-su18aky3w, white)']
2025-05-27 20:17:51,602 - services.ai_service - INFO - Using optimized search query for comparison: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 20:17:53,985 - services.ai_service - WARNING - Error using Gemini for platform search: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 20:17:55,076 - services.ai_service - ERROR - Error using AI for platform search: 401 Client Error: Unauthorized for url: https://api.groq.com/openai/v1/chat/completions
2025-05-27 20:17:55,081 - services.scheduler - INFO - Found 5 potential comparisons for product 3 on other platforms.
2025-05-27 20:17:55,863 - services.flipkart_scraper - INFO - Attempting to scrape Flipkart price from: https://www.flipkart.com/search?q=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 20:17:58,187 - services.flipkart_scraper - WARNING - Could not find price element for Flipkart URL: https://www.flipkart.com/search?q=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 20:17:58,192 - services.scheduler - WARNING - Failed to scrape price from Flipkart URL: https://www.flipkart.com/search?q=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) for product 3
2025-05-27 20:17:58,915 - services.scheduler - WARNING - Failed to scrape price from Snapdeal URL: https://www.snapdeal.com/search?keyword=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) for product 3
2025-05-27 20:17:59,724 - services.scheduler - WARNING - Failed to scrape price from Reliance Digital URL: https://www.reliancedigital.in/search?q=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) for product 3
2025-05-27 20:18:00,986 - services.scheduler - WARNING - Failed to scrape price from Tata Cliq URL: https://www.tatacliq.com/search/?searchCategory=all&text=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) for product 3
2025-05-27 20:18:01,844 - services.scheduler - WARNING - Failed to scrape price from Croma URL: https://www.croma.com/searchB?q=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) for product 3
2025-05-27 20:18:01,845 - services.scheduler - ERROR - Error updating product 3 (attempt 2/3): 'recorded_at' is an invalid keyword argument for PriceRecord
2025-05-27 20:18:01,850 - services.scheduler - INFO - Retry attempt 3 for product 3 after 2.05s delay
2025-05-27 20:18:03,906 - services.scheduler - INFO - Updating prices for product: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) (ID: 3)
2025-05-27 20:18:03,907 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0DSVS6P6G
2025-05-27 20:18:03,909 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 20:18:03,911 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 20:18:03,912 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0DSVS6P6G
2025-05-27 20:18:03,912 - services.scraper - INFO - Extracted product ID from URL: B0DSVS6P6G
2025-05-27 20:18:03,913 - services.scraper - INFO - Waiting 1.02 seconds before attempt 1/5
2025-05-27 20:18:04,938 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 20:18:09,357 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 20:18:09,358 - services.scraper - INFO - Waiting 1.18 seconds before attempt 2/5
2025-05-27 20:18:10,537 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 20:18:14,492 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 20:18:14,493 - services.scraper - INFO - Waiting 1.81 seconds before attempt 3/5
2025-05-27 20:18:15,553 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:18:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:18:16,307 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 20:18:20,489 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 20:18:20,490 - services.scraper - INFO - Waiting 3.44 seconds before attempt 4/5
2025-05-27 20:18:23,929 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 20:18:27,661 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 20:18:27,661 - services.scraper - INFO - Waiting 3.11 seconds before attempt 5/5
2025-05-27 20:18:30,775 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 20:18:34,797 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 20:18:34,798 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 20:18:34,799 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0DSVS6P6G
2025-05-27 20:18:43,695 - services.scraper - INFO - Successfully extracted product name from mobile site: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 20:18:44,099 - services.scraper - INFO - Successfully scraped Amazon product: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 20:18:44,101 - services.scheduler - ERROR - Error updating main platform price for product 3: 'recorded_at' is an invalid keyword argument for PriceRecord
2025-05-27 20:18:44,102 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0DSVS6P6G
2025-05-27 20:18:44,103 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 20:18:44,104 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 20:18:44,105 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0DSVS6P6G
2025-05-27 20:18:44,105 - services.scraper - INFO - Extracted product ID from URL: B0DSVS6P6G
2025-05-27 20:18:44,107 - services.scraper - INFO - Waiting 1.76 seconds before attempt 1/5
2025-05-27 20:18:45,867 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 20:18:49,891 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 20:18:49,892 - services.scraper - INFO - Waiting 1.31 seconds before attempt 2/5
2025-05-27 20:18:51,205 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 20:18:55,100 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 20:18:55,101 - services.scraper - INFO - Waiting 1.07 seconds before attempt 3/5
2025-05-27 20:18:56,173 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 20:18:59,953 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 20:18:59,954 - services.scraper - INFO - Waiting 3.36 seconds before attempt 4/5
2025-05-27 20:19:03,317 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 20:19:07,214 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 20:19:07,214 - services.scraper - INFO - Waiting 2.03 seconds before attempt 5/5
2025-05-27 20:19:09,241 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 20:19:12,748 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 20:19:12,749 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 20:19:12,749 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0DSVS6P6G
2025-05-27 20:19:15,249 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:19:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:19:18,695 - services.scraper - INFO - Successfully extracted product name from mobile site: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 20:19:18,891 - services.scraper - INFO - Successfully scraped Amazon product: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 20:19:20,849 - services.ai_service - ERROR - Error enhancing metadata with Gemini AI: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 20:19:21,410 - services.ai_service - ERROR - Error enhancing metadata with Groq AI: 401 Client Error: Unauthorized for url: https://api.groq.com/openai/v1/chat/completions
2025-05-27 20:19:22,759 - services.ai_service - INFO - Starting product comparison for: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 20:19:22,761 - services.ai_service - INFO - Brand: Panasonic, Model: 
2025-05-27 20:19:22,763 - services.ai_service - INFO - Extracted keywords for search: ['panasonic', 'panasonic', '1.5', 'star', 'premium', 'wi-fi', 'inverter', 'smart', 'split', '(matter', 'enabled,', 'higher', 'airflow,', 'copper', 'condenser,', '7in1', 'convertible,', 'true', '2-way,', '0.1', 'filter,', 'cs/cu-su18aky3w,', 'white)', 'panasonic 1.5 ton 3 star premium wi-fi inverter smart split ac (matter enabled, higher airflow, copper condenser, 7in1 convertible, true ai, 2-way, pm 0.1 filter, cs/cu-su18aky3w, white)']
2025-05-27 20:19:22,764 - services.ai_service - INFO - Using optimized search query for comparison: Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 20:19:24,942 - services.ai_service - WARNING - Error using Gemini for platform search: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 20:19:25,501 - services.ai_service - ERROR - Error using AI for platform search: 401 Client Error: Unauthorized for url: https://api.groq.com/openai/v1/chat/completions
2025-05-27 20:19:25,504 - services.scheduler - INFO - Found 5 potential comparisons for product 3 on other platforms.
2025-05-27 20:19:26,032 - services.flipkart_scraper - INFO - Attempting to scrape Flipkart price from: https://www.flipkart.com/search?q=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 20:19:27,519 - services.flipkart_scraper - WARNING - Could not find price element for Flipkart URL: https://www.flipkart.com/search?q=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White)
2025-05-27 20:19:27,523 - services.scheduler - WARNING - Failed to scrape price from Flipkart URL: https://www.flipkart.com/search?q=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) for product 3
2025-05-27 20:19:28,833 - services.scheduler - WARNING - Failed to scrape price from Snapdeal URL: https://www.snapdeal.com/search?keyword=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) for product 3
2025-05-27 20:19:29,895 - services.scheduler - WARNING - Failed to scrape price from Reliance Digital URL: https://www.reliancedigital.in/search?q=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) for product 3
2025-05-27 20:19:30,865 - services.scheduler - WARNING - Failed to scrape price from Tata Cliq URL: https://www.tatacliq.com/search/?searchCategory=all&text=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) for product 3
2025-05-27 20:19:31,958 - services.scheduler - WARNING - Failed to scrape price from Croma URL: https://www.croma.com/searchB?q=Panasonic 1.5 Ton 3 Star Premium Wi-Fi Inverter Smart Split AC (Matter Enabled, Higher Airflow, Copper Condenser, 7in1 Convertible, True AI, 2-Way, PM 0.1 Filter, CS/CU-SU18AKY3W, White) for product 3
2025-05-27 20:19:31,959 - services.scheduler - ERROR - Error updating product 3 (attempt 3/3): 'recorded_at' is an invalid keyword argument for PriceRecord
2025-05-27 20:19:31,962 - services.scheduler - ERROR - Failed to update product 3 after 3 attempts
2025-05-27 20:19:31,964 - services.scheduler - INFO - Processing product 4/8: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) (ID: 4, Priority: 1.33)
2025-05-27 20:19:33,254 - services.scheduler - INFO - Updating prices for product: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) (ID: 4)
2025-05-27 20:19:33,254 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0DX7DSBH7
2025-05-27 20:19:33,255 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 20:19:33,255 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 20:19:33,256 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0DX7DSBH7
2025-05-27 20:19:33,256 - services.scraper - INFO - Extracted product ID from URL: B0DX7DSBH7
2025-05-27 20:19:33,257 - services.scraper - INFO - Waiting 1.94 seconds before attempt 1/5
2025-05-27 20:19:35,195 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 20:19:38,703 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 20:19:38,705 - services.scraper - INFO - Waiting 1.03 seconds before attempt 2/5
2025-05-27 20:19:39,732 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 20:19:42,793 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 20:19:42,794 - services.scraper - INFO - Waiting 2.20 seconds before attempt 3/5
2025-05-27 20:19:44,991 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 20:19:48,378 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 20:19:48,378 - services.scraper - INFO - Waiting 2.50 seconds before attempt 4/5
2025-05-27 20:19:50,882 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 20:19:54,203 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 20:19:54,204 - services.scraper - INFO - Waiting 3.89 seconds before attempt 5/5
2025-05-27 20:19:58,096 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 20:20:01,629 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 20:20:01,630 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 20:20:01,630 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0DX7DSBH7
2025-05-27 20:20:06,321 - services.scraper - INFO - Successfully extracted product name from mobile site: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 20:20:06,372 - services.scraper - INFO - Successfully scraped Amazon product: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 20:20:06,373 - services.scheduler - ERROR - Error updating main platform price for product 4: 'recorded_at' is an invalid keyword argument for PriceRecord
2025-05-27 20:20:06,375 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0DX7DSBH7
2025-05-27 20:20:06,376 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 20:20:06,376 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 20:20:06,377 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0DX7DSBH7
2025-05-27 20:20:06,377 - services.scraper - INFO - Extracted product ID from URL: B0DX7DSBH7
2025-05-27 20:20:06,378 - services.scraper - INFO - Waiting 1.54 seconds before attempt 1/5
2025-05-27 20:20:07,919 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 20:20:11,004 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 20:20:11,004 - services.scraper - INFO - Waiting 1.89 seconds before attempt 2/5
2025-05-27 20:20:12,899 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 20:20:15,558 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:20:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:20:15,985 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 20:20:15,985 - services.scraper - INFO - Waiting 2.96 seconds before attempt 3/5
2025-05-27 20:20:18,943 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 20:20:22,115 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 20:20:22,116 - services.scraper - INFO - Waiting 2.55 seconds before attempt 4/5
2025-05-27 20:20:24,664 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 20:20:28,083 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 20:20:28,083 - services.scraper - INFO - Waiting 1.15 seconds before attempt 5/5
2025-05-27 20:20:29,239 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 20:20:32,703 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 20:20:32,704 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 20:20:32,704 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0DX7DSBH7
2025-05-27 20:20:37,072 - services.scraper - INFO - Successfully extracted product name from mobile site: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 20:20:37,131 - services.scraper - INFO - Successfully scraped Amazon product: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 20:20:38,286 - services.ai_service - ERROR - Error enhancing metadata with Gemini AI: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 20:20:39,040 - services.ai_service - ERROR - Error enhancing metadata with Groq AI: 401 Client Error: Unauthorized for url: https://api.groq.com/openai/v1/chat/completions
2025-05-27 20:20:40,448 - services.ai_service - INFO - Starting product comparison for: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 20:20:40,449 - services.ai_service - INFO - Brand: HOKIPO, Model: 
2025-05-27 20:20:40,450 - services.ai_service - INFO - Extracted keywords for search: ['hokipo', 'hokipo', 'gaming', 'chair', 'cover', 'stretchable', 'elastic', 'jacquard', 'computer', 'rotating', 'chair', 'seat', 'covers', 'slipcover(dgry-new2-5008)', 'hokipo gaming chair cover stretchable elastic jacquard computer rotating chair seat covers slipcover(dgry-new2-5008)']
2025-05-27 20:20:40,451 - services.ai_service - INFO - Using optimized search query for comparison: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 20:20:42,389 - services.ai_service - WARNING - Error using Gemini for platform search: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 20:20:43,078 - services.ai_service - ERROR - Error using AI for platform search: 401 Client Error: Unauthorized for url: https://api.groq.com/openai/v1/chat/completions
2025-05-27 20:20:43,082 - services.scheduler - INFO - Found 5 potential comparisons for product 4 on other platforms.
2025-05-27 20:20:44,080 - services.flipkart_scraper - INFO - Attempting to scrape Flipkart price from: https://www.flipkart.com/search?q=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 20:20:46,859 - services.flipkart_scraper - WARNING - Could not find price element for Flipkart URL: https://www.flipkart.com/search?q=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 20:20:46,861 - services.scheduler - WARNING - Failed to scrape price from Flipkart URL: https://www.flipkart.com/search?q=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) for product 4
2025-05-27 20:20:47,607 - services.scheduler - WARNING - Failed to scrape price from Snapdeal URL: https://www.snapdeal.com/search?keyword=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) for product 4
2025-05-27 20:20:49,069 - services.scheduler - WARNING - Failed to scrape price from Reliance Digital URL: https://www.reliancedigital.in/search?q=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) for product 4
2025-05-27 20:20:50,545 - services.scheduler - WARNING - Failed to scrape price from Tata Cliq URL: https://www.tatacliq.com/search/?searchCategory=all&text=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) for product 4
2025-05-27 20:20:51,905 - services.scheduler - WARNING - Failed to scrape price from Croma URL: https://www.croma.com/searchB?q=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) for product 4
2025-05-27 20:20:51,906 - services.scheduler - ERROR - Error updating product 4 (attempt 1/3): 'recorded_at' is an invalid keyword argument for PriceRecord
2025-05-27 20:20:51,915 - services.scheduler - INFO - Retry attempt 2 for product 4 after 2.39s delay
2025-05-27 20:20:53,627 - werkzeug - INFO -  * Detected change in 'C:\\Users\\sriva\\OneDrive\\Desktop\\alfaleus-internship\\backend\\api\\cron.py', reloading
2025-05-27 20:20:54,011 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-05-27 20:20:54,306 - services.scheduler - INFO - Updating prices for product: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) (ID: 4)
2025-05-27 20:20:54,307 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0DX7DSBH7
2025-05-27 20:20:54,308 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 20:20:54,308 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 20:20:54,309 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0DX7DSBH7
2025-05-27 20:20:54,310 - services.scraper - INFO - Extracted product ID from URL: B0DX7DSBH7
2025-05-27 20:20:54,311 - services.scraper - INFO - Waiting 1.92 seconds before attempt 1/5
2025-05-27 20:20:54,352 - werkzeug - INFO -  * Restarting with watchdog (windowsapi)
2025-05-27 20:20:56,237 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 20:20:57,066 - __main__ - INFO - CORS configured for all origins (development mode)
2025-05-27 20:20:57,102 - models.db - INFO - Database tables created or verified
2025-05-27 20:20:57,108 - __main__ - INFO - Initializing scheduler for non-serverless environment
2025-05-27 20:20:57,109 - __main__ - INFO - Scheduler config: check_interval=30m, max_products=100
2025-05-27 20:20:57,201 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-27 20:20:57,205 - apscheduler.scheduler - INFO - Added job "update_all_prices" to job store "default"
2025-05-27 20:20:57,205 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 20:20:57,207 - __main__ - INFO - Price update scheduler started with interval: 30 minutes
2025-05-27 20:20:57,229 - werkzeug - WARNING -  * Debugger is active!
2025-05-27 20:20:57,238 - werkzeug - INFO -  * Debugger PIN: 316-319-957
2025-05-27 20:20:59,371 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 20:20:59,372 - services.scraper - INFO - Waiting 1.05 seconds before attempt 2/5
2025-05-27 20:21:00,420 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 20:21:03,531 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 20:21:03,532 - services.scraper - INFO - Waiting 2.50 seconds before attempt 3/5
2025-05-27 20:21:06,030 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 20:21:09,300 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 20:21:09,300 - services.scraper - INFO - Waiting 1.08 seconds before attempt 4/5
2025-05-27 20:21:10,386 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 20:21:13,524 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 20:21:13,525 - services.scraper - INFO - Waiting 3.54 seconds before attempt 5/5
2025-05-27 20:21:15,564 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:21:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:21:17,067 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 20:21:20,447 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 20:21:20,448 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 20:21:20,448 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0DX7DSBH7
2025-05-27 20:21:24,845 - services.scraper - INFO - Successfully extracted product name from mobile site: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 20:21:24,895 - services.scraper - INFO - Successfully scraped Amazon product: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 20:21:24,896 - services.scheduler - ERROR - Error updating main platform price for product 4: 'recorded_at' is an invalid keyword argument for PriceRecord
2025-05-27 20:21:24,897 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0DX7DSBH7
2025-05-27 20:21:24,898 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 20:21:24,898 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 20:21:24,899 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0DX7DSBH7
2025-05-27 20:21:24,899 - services.scraper - INFO - Extracted product ID from URL: B0DX7DSBH7
2025-05-27 20:21:24,900 - services.scraper - INFO - Waiting 1.11 seconds before attempt 1/5
2025-05-27 20:21:26,009 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 20:21:29,234 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 20:21:29,234 - services.scraper - INFO - Waiting 1.02 seconds before attempt 2/5
2025-05-27 20:21:30,252 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 20:21:33,931 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 20:21:33,932 - services.scraper - INFO - Waiting 2.51 seconds before attempt 3/5
2025-05-27 20:21:36,446 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 20:21:39,561 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 20:21:39,562 - services.scraper - INFO - Waiting 2.57 seconds before attempt 4/5
2025-05-27 20:21:42,130 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 20:21:45,124 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 20:21:45,125 - services.scraper - INFO - Waiting 1.48 seconds before attempt 5/5
2025-05-27 20:21:46,606 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 20:21:49,786 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 20:21:49,787 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 20:21:49,788 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0DX7DSBH7
2025-05-27 20:21:54,131 - services.scraper - INFO - Successfully extracted product name from mobile site: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 20:21:54,330 - services.scraper - INFO - Successfully scraped Amazon product: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 20:21:56,224 - services.ai_service - ERROR - Error enhancing metadata with Gemini AI: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 20:21:56,926 - services.ai_service - ERROR - Error enhancing metadata with Groq AI: 401 Client Error: Unauthorized for url: https://api.groq.com/openai/v1/chat/completions
2025-05-27 20:21:58,038 - services.ai_service - INFO - Starting product comparison for: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 20:21:58,039 - services.ai_service - INFO - Brand: HOKIPO, Model: 
2025-05-27 20:21:58,040 - services.ai_service - INFO - Extracted keywords for search: ['hokipo', 'hokipo', 'gaming', 'chair', 'cover', 'stretchable', 'elastic', 'jacquard', 'computer', 'rotating', 'chair', 'seat', 'covers', 'slipcover(dgry-new2-5008)', 'hokipo gaming chair cover stretchable elastic jacquard computer rotating chair seat covers slipcover(dgry-new2-5008)']
2025-05-27 20:21:58,041 - services.ai_service - INFO - Using optimized search query for comparison: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 20:21:58,871 - services.ai_service - WARNING - Error using Gemini for platform search: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 20:21:59,500 - services.ai_service - ERROR - Error using AI for platform search: 401 Client Error: Unauthorized for url: https://api.groq.com/openai/v1/chat/completions
2025-05-27 20:21:59,503 - services.scheduler - INFO - Found 5 potential comparisons for product 4 on other platforms.
2025-05-27 20:22:00,166 - services.flipkart_scraper - INFO - Attempting to scrape Flipkart price from: https://www.flipkart.com/search?q=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 20:22:01,903 - services.flipkart_scraper - WARNING - Could not find price element for Flipkart URL: https://www.flipkart.com/search?q=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 20:22:01,906 - services.scheduler - WARNING - Failed to scrape price from Flipkart URL: https://www.flipkart.com/search?q=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) for product 4
2025-05-27 20:22:03,107 - services.scheduler - WARNING - Failed to scrape price from Snapdeal URL: https://www.snapdeal.com/search?keyword=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) for product 4
2025-05-27 20:22:04,021 - services.scheduler - WARNING - Failed to scrape price from Reliance Digital URL: https://www.reliancedigital.in/search?q=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) for product 4
2025-05-27 20:22:05,258 - services.scheduler - WARNING - Failed to scrape price from Tata Cliq URL: https://www.tatacliq.com/search/?searchCategory=all&text=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) for product 4
2025-05-27 20:22:06,336 - services.scheduler - WARNING - Failed to scrape price from Croma URL: https://www.croma.com/searchB?q=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) for product 4
2025-05-27 20:22:06,337 - services.scheduler - ERROR - Error updating product 4 (attempt 2/3): 'recorded_at' is an invalid keyword argument for PriceRecord
2025-05-27 20:22:06,341 - services.scheduler - INFO - Retry attempt 3 for product 4 after 3.29s delay
2025-05-27 20:22:09,636 - services.scheduler - INFO - Updating prices for product: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) (ID: 4)
2025-05-27 20:22:09,637 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0DX7DSBH7
2025-05-27 20:22:09,637 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 20:22:09,638 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 20:22:09,638 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0DX7DSBH7
2025-05-27 20:22:09,640 - services.scraper - INFO - Extracted product ID from URL: B0DX7DSBH7
2025-05-27 20:22:09,641 - services.scraper - INFO - Waiting 1.87 seconds before attempt 1/5
2025-05-27 20:22:11,515 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 20:22:14,580 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 20:22:14,580 - services.scraper - INFO - Waiting 1.87 seconds before attempt 2/5
2025-05-27 20:22:15,255 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:22:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:22:16,449 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 20:22:19,537 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 20:22:19,539 - services.scraper - INFO - Waiting 1.25 seconds before attempt 3/5
2025-05-27 20:22:20,788 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 20:22:24,124 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 20:22:24,125 - services.scraper - INFO - Waiting 2.82 seconds before attempt 4/5
2025-05-27 20:22:26,942 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 20:22:30,001 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 20:22:30,003 - services.scraper - INFO - Waiting 1.83 seconds before attempt 5/5
2025-05-27 20:22:31,830 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 20:22:35,165 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 20:22:35,166 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 20:22:35,167 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0DX7DSBH7
2025-05-27 20:22:39,874 - services.scraper - INFO - Successfully extracted product name from mobile site: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 20:22:39,931 - services.scraper - INFO - Successfully scraped Amazon product: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 20:22:39,932 - services.scheduler - ERROR - Error updating main platform price for product 4: 'recorded_at' is an invalid keyword argument for PriceRecord
2025-05-27 20:22:39,934 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0DX7DSBH7
2025-05-27 20:22:39,934 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 20:22:39,934 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 20:22:39,935 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0DX7DSBH7
2025-05-27 20:22:39,936 - services.scraper - INFO - Extracted product ID from URL: B0DX7DSBH7
2025-05-27 20:22:39,936 - services.scraper - INFO - Waiting 1.50 seconds before attempt 1/5
2025-05-27 20:22:41,433 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 20:22:44,664 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 20:22:44,664 - services.scraper - INFO - Waiting 1.03 seconds before attempt 2/5
2025-05-27 20:22:45,697 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 20:22:48,993 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 20:22:48,994 - services.scraper - INFO - Waiting 1.52 seconds before attempt 3/5
2025-05-27 20:22:50,519 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 20:22:53,578 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 20:22:53,579 - services.scraper - INFO - Waiting 2.94 seconds before attempt 4/5
2025-05-27 20:22:56,517 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 20:22:59,613 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 20:22:59,614 - services.scraper - INFO - Waiting 1.47 seconds before attempt 5/5
2025-05-27 20:23:01,089 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 20:23:04,443 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 20:23:04,443 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 20:23:04,444 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0DX7DSBH7
2025-05-27 20:23:08,886 - services.scraper - INFO - Successfully extracted product name from mobile site: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 20:23:08,938 - services.scraper - INFO - Successfully scraped Amazon product: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 20:23:10,875 - services.ai_service - ERROR - Error enhancing metadata with Gemini AI: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 20:23:11,476 - services.ai_service - ERROR - Error enhancing metadata with Groq AI: 401 Client Error: Unauthorized for url: https://api.groq.com/openai/v1/chat/completions
2025-05-27 20:23:12,069 - services.ai_service - INFO - Starting product comparison for: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 20:23:12,071 - services.ai_service - INFO - Brand: HOKIPO, Model: 
2025-05-27 20:23:12,072 - services.ai_service - INFO - Extracted keywords for search: ['hokipo', 'hokipo', 'gaming', 'chair', 'cover', 'stretchable', 'elastic', 'jacquard', 'computer', 'rotating', 'chair', 'seat', 'covers', 'slipcover(dgry-new2-5008)', 'hokipo gaming chair cover stretchable elastic jacquard computer rotating chair seat covers slipcover(dgry-new2-5008)']
2025-05-27 20:23:12,073 - services.ai_service - INFO - Using optimized search query for comparison: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 20:23:14,116 - services.ai_service - WARNING - Error using Gemini for platform search: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 20:23:14,633 - services.ai_service - ERROR - Error using AI for platform search: 401 Client Error: Unauthorized for url: https://api.groq.com/openai/v1/chat/completions
2025-05-27 20:23:14,635 - services.scheduler - INFO - Found 5 potential comparisons for product 4 on other platforms.
2025-05-27 20:23:15,406 - services.flipkart_scraper - INFO - Attempting to scrape Flipkart price from: https://www.flipkart.com/search?q=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 20:23:17,222 - services.flipkart_scraper - WARNING - Could not find price element for Flipkart URL: https://www.flipkart.com/search?q=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 20:23:17,227 - services.scheduler - WARNING - Failed to scrape price from Flipkart URL: https://www.flipkart.com/search?q=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) for product 4
2025-05-27 20:23:18,316 - services.scheduler - WARNING - Failed to scrape price from Snapdeal URL: https://www.snapdeal.com/search?keyword=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) for product 4
2025-05-27 20:23:19,557 - services.scheduler - WARNING - Failed to scrape price from Reliance Digital URL: https://www.reliancedigital.in/search?q=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) for product 4
2025-05-27 20:23:20,667 - services.scheduler - WARNING - Failed to scrape price from Tata Cliq URL: https://www.tatacliq.com/search/?searchCategory=all&text=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) for product 4
2025-05-27 20:23:21,936 - services.scheduler - WARNING - Failed to scrape price from Croma URL: https://www.croma.com/searchB?q=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) for product 4
2025-05-27 20:23:21,937 - services.scheduler - ERROR - Error updating product 4 (attempt 3/3): 'recorded_at' is an invalid keyword argument for PriceRecord
2025-05-27 20:23:21,940 - services.scheduler - ERROR - Failed to update product 4 after 3 attempts
2025-05-27 20:23:21,942 - services.scheduler - INFO - Processing product 5/8: Nivia Basic Ankle Support with Adjustable Velcro, Ankle Sleeves, Braces or Wraps, For Support & Stability, Free Size& Black Color, Used for All kind of impact Sports (ID: 5, Priority: 1.04)
2025-05-27 20:23:22,815 - services.scheduler - INFO - Updating prices for product: Nivia Basic Ankle Support with Adjustable Velcro, Ankle Sleeves, Braces or Wraps, For Support & Stability, Free Size& Black Color, Used for All kind of impact Sports (ID: 5)
2025-05-27 20:23:22,815 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B07VM6ZBVJ
2025-05-27 20:23:22,815 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 20:23:22,816 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 20:23:22,818 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B07VM6ZBVJ
2025-05-27 20:23:22,818 - services.scraper - INFO - Extracted product ID from URL: B07VM6ZBVJ
2025-05-27 20:23:22,818 - services.scraper - INFO - Waiting 1.81 seconds before attempt 1/5
2025-05-27 20:23:24,634 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 20:23:28,042 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 20:23:28,043 - services.scraper - INFO - Waiting 2.28 seconds before attempt 2/5
2025-05-27 20:23:30,323 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 20:23:33,269 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 20:23:33,270 - services.scraper - INFO - Waiting 2.22 seconds before attempt 3/5
2025-05-27 20:23:35,489 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 20:23:38,675 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 20:23:38,677 - services.scraper - INFO - Waiting 2.03 seconds before attempt 4/5
2025-05-27 20:23:40,706 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 20:23:43,874 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 20:23:43,874 - services.scraper - INFO - Waiting 1.07 seconds before attempt 5/5
2025-05-27 20:23:44,947 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 20:23:48,116 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 20:23:48,117 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 20:23:48,117 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B07VM6ZBVJ
2025-05-27 20:23:52,065 - services.scraper - INFO - Successfully extracted product name from mobile site: Nivia Basic Ankle Support with Adjustable Velcro, Ankle Sleeves, Braces or Wraps, For Support & Stability, Free Size& Black Color, Used for All kind of impact Sports
2025-05-27 20:23:52,098 - services.scraper - INFO - Successfully scraped Amazon product: Nivia Basic Ankle Support with Adjustable Velcro, Ankle Sleeves, Braces or Wraps, For Support & Stability, Free Size& Black Color, Used for All kind of impact Sports
2025-05-27 20:23:52,098 - services.scheduler - ERROR - Error updating main platform price for product 5: 'recorded_at' is an invalid keyword argument for PriceRecord
2025-05-27 20:23:52,099 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B07VM6ZBVJ
2025-05-27 20:23:52,100 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 20:23:52,100 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 20:23:52,101 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B07VM6ZBVJ
2025-05-27 20:23:52,101 - services.scraper - INFO - Extracted product ID from URL: B07VM6ZBVJ
2025-05-27 20:23:52,101 - services.scraper - INFO - Waiting 1.24 seconds before attempt 1/5
2025-05-27 20:23:53,342 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 20:23:56,378 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 20:23:56,379 - services.scraper - INFO - Waiting 1.77 seconds before attempt 2/5
2025-05-27 20:23:58,154 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 20:24:01,233 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 20:24:01,234 - services.scraper - INFO - Waiting 2.72 seconds before attempt 3/5
2025-05-27 20:24:03,956 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 20:24:07,088 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 20:24:07,090 - services.scraper - INFO - Waiting 3.31 seconds before attempt 4/5
2025-05-27 20:24:10,397 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 20:24:13,633 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 20:24:13,633 - services.scraper - INFO - Waiting 1.69 seconds before attempt 5/5
2025-05-27 20:24:15,321 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 20:24:18,545 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 20:24:18,546 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 20:24:18,547 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B07VM6ZBVJ
2025-05-27 20:24:22,585 - services.scraper - INFO - Successfully extracted product name from mobile site: Nivia Basic Ankle Support with Adjustable Velcro, Ankle Sleeves, Braces or Wraps, For Support & Stability, Free Size& Black Color, Used for All kind of impact Sports
2025-05-27 20:24:22,623 - services.scraper - INFO - Successfully scraped Amazon product: Nivia Basic Ankle Support with Adjustable Velcro, Ankle Sleeves, Braces or Wraps, For Support & Stability, Free Size& Black Color, Used for All kind of impact Sports
2025-05-27 20:24:24,667 - services.ai_service - ERROR - Error enhancing metadata with Gemini AI: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 20:24:25,342 - services.ai_service - ERROR - Error enhancing metadata with Groq AI: 401 Client Error: Unauthorized for url: https://api.groq.com/openai/v1/chat/completions
2025-05-27 20:24:26,234 - services.ai_service - INFO - Starting product comparison for: Nivia Basic Ankle Support with Adjustable Velcro, Ankle Sleeves, Braces or Wraps, For Support & Stability, Free Size& Black Color, Used for All kind of impact Sports
2025-05-27 20:24:26,235 - services.ai_service - INFO - Brand: Nivia, Model: 
2025-05-27 20:24:26,236 - services.ai_service - INFO - Extracted keywords for search: ['nivia', 'nivia', 'basic', 'ankle', 'support', 'adjustable', 'velcro,', 'ankle', 'sleeves,', 'braces', 'wraps,', 'support', 'stability,', 'free', 'size&', 'black', 'color,', 'used', 'kind', 'impact', 'sports', 'nivia basic ankle support with adjustable velcro, ankle sleeves, braces or wraps, for support & stability, free size& black color, used for all kind of impact sports']
2025-05-27 20:24:26,237 - services.ai_service - INFO - Using optimized search query for comparison: Nivia Basic Ankle Support with Adjustable Velcro, Ankle Sleeves, Braces or Wraps, For Support & Stability, Free Size& Black Color, Used for All kind of impact Sports
2025-05-27 20:24:28,207 - services.ai_service - WARNING - Error using Gemini for platform search: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 20:24:28,816 - services.ai_service - ERROR - Error using AI for platform search: 401 Client Error: Unauthorized for url: https://api.groq.com/openai/v1/chat/completions
2025-05-27 20:24:28,819 - services.scheduler - INFO - Found 5 potential comparisons for product 5 on other platforms.
2025-05-27 20:24:30,027 - services.flipkart_scraper - INFO - Attempting to scrape Flipkart price from: https://www.flipkart.com/search?q=Nivia Basic Ankle Support with Adjustable Velcro, Ankle Sleeves, Braces or Wraps, For Support & Stability, Free Size& Black Color, Used for All kind of impact Sports
2025-05-27 20:24:32,217 - services.flipkart_scraper - WARNING - Could not find price element for Flipkart URL: https://www.flipkart.com/search?q=Nivia Basic Ankle Support with Adjustable Velcro, Ankle Sleeves, Braces or Wraps, For Support & Stability, Free Size& Black Color, Used for All kind of impact Sports
2025-05-27 20:24:32,220 - services.scheduler - WARNING - Failed to scrape price from Flipkart URL: https://www.flipkart.com/search?q=Nivia Basic Ankle Support with Adjustable Velcro, Ankle Sleeves, Braces or Wraps, For Support & Stability, Free Size& Black Color, Used for All kind of impact Sports for product 5
2025-05-27 20:24:33,390 - services.scheduler - WARNING - Failed to scrape price from Snapdeal URL: https://www.snapdeal.com/search?keyword=Nivia Basic Ankle Support with Adjustable Velcro, Ankle Sleeves, Braces or Wraps, For Support & Stability, Free Size& Black Color, Used for All kind of impact Sports for product 5
2025-05-27 20:24:34,048 - services.scheduler - WARNING - Failed to scrape price from Reliance Digital URL: https://www.reliancedigital.in/search?q=Nivia Basic Ankle Support with Adjustable Velcro, Ankle Sleeves, Braces or Wraps, For Support & Stability, Free Size& Black Color, Used for All kind of impact Sports for product 5
2025-05-27 20:24:34,998 - services.scheduler - WARNING - Failed to scrape price from Tata Cliq URL: https://www.tatacliq.com/search/?searchCategory=all&text=Nivia Basic Ankle Support with Adjustable Velcro, Ankle Sleeves, Braces or Wraps, For Support & Stability, Free Size& Black Color, Used for All kind of impact Sports for product 5
2025-05-27 20:24:36,060 - services.scheduler - WARNING - Failed to scrape price from Croma URL: https://www.croma.com/searchB?q=Nivia Basic Ankle Support with Adjustable Velcro, Ankle Sleeves, Braces or Wraps, For Support & Stability, Free Size& Black Color, Used for All kind of impact Sports for product 5
2025-05-27 20:24:36,065 - services.scheduler - ERROR - Error updating product 5 (attempt 1/3): 'recorded_at' is an invalid keyword argument for PriceRecord
2025-05-27 20:24:36,072 - services.scheduler - INFO - Retry attempt 2 for product 5 after 2.70s delay
2025-05-27 20:24:38,777 - services.scheduler - INFO - Updating prices for product: Nivia Basic Ankle Support with Adjustable Velcro, Ankle Sleeves, Braces or Wraps, For Support & Stability, Free Size& Black Color, Used for All kind of impact Sports (ID: 5)
2025-05-27 20:24:38,778 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B07VM6ZBVJ
2025-05-27 20:24:38,779 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 20:24:38,779 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 20:24:38,780 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B07VM6ZBVJ
2025-05-27 20:24:38,781 - services.scraper - INFO - Extracted product ID from URL: B07VM6ZBVJ
2025-05-27 20:24:38,782 - services.scraper - INFO - Waiting 1.39 seconds before attempt 1/5
2025-05-27 20:24:40,176 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 20:24:43,330 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 20:24:43,331 - services.scraper - INFO - Waiting 2.20 seconds before attempt 2/5
2025-05-27 20:24:45,531 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 20:24:48,654 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 20:24:48,655 - services.scraper - INFO - Waiting 1.27 seconds before attempt 3/5
2025-05-27 20:24:49,924 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 20:24:53,122 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 20:24:53,122 - services.scraper - INFO - Waiting 1.40 seconds before attempt 4/5
2025-05-27 20:24:54,528 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 20:24:57,695 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 20:24:57,696 - services.scraper - INFO - Waiting 1.53 seconds before attempt 5/5
2025-05-27 20:25:49,458 - __main__ - INFO - CORS configured for specific origins: ['']
2025-05-27 20:25:49,459 - models.db - INFO - Neon PostgreSQL detected, configuring for serverless environment
2025-05-27 20:25:51,591 - models.db - ERROR - Error creating database tables: (psycopg2.OperationalError) ERROR:  Endpoint ID is not specified. Either please upgrade the postgres client library (libpq) for SNI support or pass the endpoint ID (first part of the domain name) as a parameter: '?options=endpoint%3D<endpoint-id>'. See more at https://neon.tech/sni

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-05-27 20:27:39,671 - __main__ - INFO - CORS configured for specific origins: ['']
2025-05-27 20:27:39,673 - models.db - INFO - Neon PostgreSQL detected, configuring for serverless environment
2025-05-27 20:27:47,858 - models.db - INFO - Database tables created or verified
2025-05-27 20:27:47,869 - __main__ - INFO - Initializing scheduler for non-serverless environment
2025-05-27 20:27:47,870 - __main__ - INFO - Scheduler config: check_interval=30m, max_products=100
2025-05-27 20:27:48,020 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-27 20:27:48,026 - apscheduler.scheduler - INFO - Added job "update_all_prices" to job store "default"
2025-05-27 20:27:48,027 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 20:27:48,030 - __main__ - INFO - Price update scheduler started with interval: 30 minutes
2025-05-27 20:27:48,091 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.127.187:5000
2025-05-27 20:27:48,093 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-27 20:29:16,413 - __main__ - INFO - CORS configured for specific origins: ['']
2025-05-27 20:29:16,416 - models.db - INFO - Neon PostgreSQL detected, configuring for serverless environment
2025-05-27 20:29:23,059 - models.db - INFO - Database tables created or verified
2025-05-27 20:29:23,077 - __main__ - INFO - Initializing scheduler for non-serverless environment
2025-05-27 20:29:23,078 - __main__ - INFO - Scheduler config: check_interval=30m, max_products=100
2025-05-27 20:29:23,291 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-27 20:29:23,294 - apscheduler.scheduler - INFO - Added job "update_all_prices" to job store "default"
2025-05-27 20:29:23,295 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 20:29:23,296 - __main__ - INFO - Price update scheduler started with interval: 30 minutes
2025-05-27 20:29:23,313 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.127.187:5000
2025-05-27 20:29:23,314 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-27 20:31:05,178 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:31:05] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:31:05,421 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:31:05] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:31:05,498 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:31:05] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:31:05,503 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:31:05] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:31:05,813 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:31:05] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:31:06,130 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:31:06] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:31:06,456 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:31:06] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:31:06,477 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:31:06] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:31:07,996 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:31:07] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:31:09,560 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:31:09] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:31:10,125 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:31:10] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:31:11,091 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:31:11] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:31:11,394 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:31:11] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:31:12,549 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:31:12] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:31:12,564 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:31:12] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:31:12,917 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:31:12] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:31:14,107 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:31:14] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:31:14,156 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:31:14] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:31:15,567 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:31:15] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:31:15,615 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:31:15] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:31:17,035 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:31:17] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:31:18,635 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:31:18] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:31:21,397 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:31:21] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:31:21,405 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:31:21] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:31:22,636 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:31:22] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:31:23,886 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:31:23] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:31:25,471 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:31:25] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:31:26,622 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:31:26] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:31:35,239 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:31:35] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:31:35,565 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:31:35] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:31:35,879 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:31:35] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:32:05,243 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:32:05] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:32:05,568 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:32:05] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:32:35,495 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:32:35] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:32:35,803 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:32:35] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:32:36,119 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:32:36] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:33:05,236 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:33:05] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:33:05,559 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:33:05] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:33:05,873 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:33:05] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:33:35,287 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:33:35] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:33:35,600 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:33:35] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:34:24,027 - __main__ - INFO - CORS configured for specific origins: ['http://localhost:5174', 'http://localhost:5173', 'https://pricepulse-frontend.vercel.app']
2025-05-27 20:34:24,027 - models.db - INFO - Neon PostgreSQL detected, configuring for serverless environment
2025-05-27 20:34:29,983 - models.db - INFO - Database tables created or verified
2025-05-27 20:34:29,990 - __main__ - INFO - Initializing scheduler for non-serverless environment
2025-05-27 20:34:29,991 - __main__ - INFO - Scheduler config: check_interval=30m, max_products=100
2025-05-27 20:34:30,049 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-27 20:34:30,050 - apscheduler.scheduler - INFO - Added job "update_all_prices" to job store "default"
2025-05-27 20:34:30,050 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 20:34:30,051 - __main__ - INFO - Price update scheduler started with interval: 30 minutes
2025-05-27 20:34:30,061 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.127.187:5000
2025-05-27 20:34:30,061 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-27 20:34:35,555 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:34:35] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:34:48,427 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:34:48] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:34:48,465 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:34:48] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:34:49,542 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:34:49] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:34:50,670 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:34:50] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:34:52,090 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:34:52] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:34:53,249 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:34:53] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:35:05,240 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:35:05] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:35:15,563 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:35:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:35:26,497 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:35:26] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:35:26,805 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:35:26] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:35:27,290 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:35:27] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:35:29,512 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:35:29] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:35:31,062 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:35:31] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:35:32,359 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:35:32] "OPTIONS /api/products HTTP/1.1" 200 -
2025-05-27 20:35:33,000 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:35:33] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:35:35,705 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0DX7DSBH7
2025-05-27 20:35:35,706 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 20:35:35,707 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 20:35:35,708 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0DX7DSBH7
2025-05-27 20:35:35,711 - services.scraper - INFO - Extracted product ID from URL: B0DX7DSBH7
2025-05-27 20:35:35,717 - services.scraper - INFO - Waiting 1.98 seconds before attempt 1/5
2025-05-27 20:35:37,702 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 20:35:43,136 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 20:35:43,136 - services.scraper - INFO - Waiting 1.05 seconds before attempt 2/5
2025-05-27 20:35:44,291 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 20:35:47,915 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 20:35:47,919 - services.scraper - INFO - Waiting 1.19 seconds before attempt 3/5
2025-05-27 20:35:49,111 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 20:35:52,212 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 20:35:52,212 - services.scraper - INFO - Waiting 3.01 seconds before attempt 4/5
2025-05-27 20:35:55,227 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 20:35:56,503 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:35:56] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:35:58,441 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 20:35:58,442 - services.scraper - INFO - Waiting 2.50 seconds before attempt 5/5
2025-05-27 20:36:00,939 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 20:36:03,868 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 20:36:03,869 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 20:36:03,869 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0DX7DSBH7
2025-05-27 20:36:07,805 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:36:07] "OPTIONS /api/products HTTP/1.1" 200 -
2025-05-27 20:36:08,181 - services.scraper - INFO - Successfully extracted product name from mobile site: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 20:36:08,181 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:36:08] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:36:08,219 - services.scraper - INFO - Successfully scraped Amazon product: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 20:36:09,339 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:36:09] "POST /api/products HTTP/1.1" 200 -
2025-05-27 20:36:10,015 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:36:10] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:36:10,264 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:36:10] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:36:11,111 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:36:11] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:36:11,111 - routes.products - INFO - Added new product: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) (ID: 1)
2025-05-27 20:36:11,405 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:36:11] "[35m[1mPOST /api/products HTTP/1.1[0m" 201 -
2025-05-27 20:36:11,619 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:36:11] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:36:12,211 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:36:12] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:36:13,716 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:36:13] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:36:15,202 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:36:15] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:36:15,564 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:36:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:36:40,290 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:36:40] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:37:10,539 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:37:10] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:37:15,233 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:37:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:37:28,183 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:37:28] "GET /api/products/1 HTTP/1.1" 200 -
2025-05-27 20:37:29,662 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:37:29] "GET /api/products/1 HTTP/1.1" 200 -
2025-05-27 20:37:40,546 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:37:40] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:38:10,543 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:38:10] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:38:15,429 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:38:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:38:37,689 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:38:37] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:38:37,944 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:38:37] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:38:39,260 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:38:39] "GET /api/products/1 HTTP/1.1" 200 -
2025-05-27 20:38:40,801 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:38:40] "GET /api/products/1 HTTP/1.1" 200 -
2025-05-27 20:38:46,952 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:38:46] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:38:47,216 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:38:47] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:38:48,110 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:38:48] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:38:49,295 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:38:49] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:38:50,718 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:38:50] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:38:52,170 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:38:52] "GET /api/products HTTP/1.1" 200 -
2025-05-27 20:39:15,536 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:39:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:39:17,244 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:39:17] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:39:35,826 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:39:35] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:39:47,243 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:39:47] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:40:05,534 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:40:05] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:40:17,294 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:40:17] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:40:47,552 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:40:47] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:41:15,425 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:41:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:41:17,550 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:41:17] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:41:47,231 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:41:47] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:42:15,534 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 20:42:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 20:46:14,209 - __main__ - INFO - CORS configured for specific origins: ['http://localhost:5174', 'http://localhost:5173', 'https://pricepulse-frontend.vercel.app']
2025-05-27 20:46:14,210 - models.db - INFO - Neon PostgreSQL detected, configuring for serverless environment
2025-05-27 21:00:57,765 - __main__ - INFO - CORS configured for specific origins: ['http://localhost:5174', 'http://localhost:5173', 'https://pricepulse-frontend.vercel.app']
2025-05-27 21:00:57,766 - models.db - INFO - Neon PostgreSQL detected, configuring for serverless environment
2025-05-27 21:01:04,397 - models.db - INFO - Database tables created or verified
2025-05-27 21:01:04,402 - __main__ - INFO - Initializing scheduler for non-serverless environment
2025-05-27 21:01:04,402 - __main__ - INFO - Scheduler config: check_interval=30m, max_products=100
2025-05-27 21:01:04,531 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-27 21:01:04,533 - apscheduler.scheduler - INFO - Added job "update_all_prices" to job store "default"
2025-05-27 21:01:04,533 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 21:01:04,535 - __main__ - INFO - Price update scheduler started with interval: 30 minutes
2025-05-27 21:01:04,573 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.127.187:5000
2025-05-27 21:01:04,574 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-05-27 21:01:15,566 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 21:01:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 21:01:15,811 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 21:01:15] "GET /api/health HTTP/1.1" 200 -
2025-05-27 21:01:55,158 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 21:01:55] "[33mOPTIONS /api/api/track HTTP/1.1[0m" 404 -
2025-05-27 21:10:01,803 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 21:10:01] "GET /api/products HTTP/1.1" 200 -
2025-05-27 21:10:02,899 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 21:10:02] "GET /api/products HTTP/1.1" 200 -
2025-05-27 21:10:04,313 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 21:10:04] "GET /api/products HTTP/1.1" 200 -
2025-05-27 21:10:05,824 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 21:10:05] "GET /api/products HTTP/1.1" 200 -
2025-05-27 21:10:07,246 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 21:10:07] "GET /api/products HTTP/1.1" 200 -
2025-05-27 21:10:08,663 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 21:10:08] "GET /api/products HTTP/1.1" 200 -
2025-05-27 21:10:12,601 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 21:10:12] "GET /api/products HTTP/1.1" 200 -
2025-05-27 21:10:13,739 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 21:10:13] "GET /api/products HTTP/1.1" 200 -
2025-05-27 21:10:35,021 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 21:10:35] "GET /api/products HTTP/1.1" 200 -
2025-05-27 21:10:36,242 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 21:10:36] "GET /api/products HTTP/1.1" 200 -
2025-05-27 21:10:37,743 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 21:10:37] "GET /api/products HTTP/1.1" 200 -
2025-05-27 21:10:39,169 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 21:10:39] "GET /api/products HTTP/1.1" 200 -
2025-05-27 21:11:24,443 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 21:11:24] "GET /api/products HTTP/1.1" 200 -
2025-05-27 21:11:25,592 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 21:11:25] "GET /api/products HTTP/1.1" 200 -
2025-05-27 21:11:27,094 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 21:11:27] "GET /api/products HTTP/1.1" 200 -
2025-05-27 21:11:28,640 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 21:11:28] "GET /api/products HTTP/1.1" 200 -
2025-05-27 21:11:49,310 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 21:11:49] "GET /api/products HTTP/1.1" 200 -
2025-05-27 21:11:50,406 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 21:11:50] "GET /api/products HTTP/1.1" 200 -
2025-05-27 21:11:51,835 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 21:11:51] "GET /api/products HTTP/1.1" 200 -
2025-05-27 21:11:53,254 - werkzeug - INFO - 127.0.0.1 - - [27/May/2025 21:11:53] "GET /api/products HTTP/1.1" 200 -
2025-05-27 21:31:04,543 - apscheduler.executors.default - INFO - Running job "update_all_prices (trigger: interval[0:30:00], next run at: 2025-05-27 21:31:04 IST)" (scheduled at 2025-05-27 21:31:04.531074+05:30)
2025-05-27 21:31:04,547 - services.scheduler - INFO - Starting scheduled price update with smart prioritization
2025-05-27 21:31:10,174 - services.scheduler - INFO - Found 1 products to evaluate for updates
2025-05-27 21:31:11,138 - services.scheduler - INFO - Priority order for this update run:
2025-05-27 21:31:11,139 - services.scheduler - INFO -   1. Product 1: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) - Score: 0.54 (Time: 0.04, Volatility: 0.50, Alerts: 0.00, Recent changes: 0.00)
2025-05-27 21:31:11,140 - services.scheduler - INFO - Processing product 1/1: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) (ID: 1, Priority: 0.54)
2025-05-27 21:31:11,141 - services.scheduler - INFO - Updating prices for product: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) (ID: 1)
2025-05-27 21:31:11,141 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0DX7DSBH7
2025-05-27 21:31:11,143 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 21:31:11,144 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 21:31:11,144 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0DX7DSBH7
2025-05-27 21:31:11,145 - services.scraper - INFO - Extracted product ID from URL: B0DX7DSBH7
2025-05-27 21:31:11,146 - services.scraper - INFO - Waiting 1.72 seconds before attempt 1/5
2025-05-27 21:31:12,870 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 21:31:16,404 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 21:31:16,405 - services.scraper - INFO - Waiting 1.19 seconds before attempt 2/5
2025-05-27 21:31:17,599 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 21:31:20,800 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 21:31:20,800 - services.scraper - INFO - Waiting 1.27 seconds before attempt 3/5
2025-05-27 21:31:22,068 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 21:31:25,258 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 21:31:25,258 - services.scraper - INFO - Waiting 2.23 seconds before attempt 4/5
2025-05-27 21:31:27,492 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 21:31:30,821 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 21:31:30,822 - services.scraper - INFO - Waiting 3.36 seconds before attempt 5/5
2025-05-27 21:31:34,187 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 21:31:37,747 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 21:31:37,748 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 21:31:37,749 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0DX7DSBH7
2025-05-27 21:31:42,380 - services.scraper - INFO - Successfully extracted product name from mobile site: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 21:31:42,431 - services.scraper - INFO - Successfully scraped Amazon product: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 21:31:42,433 - services.scheduler - ERROR - Error updating main platform price for product 1: 'recorded_at' is an invalid keyword argument for PriceRecord
2025-05-27 21:31:42,458 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0DX7DSBH7
2025-05-27 21:31:42,458 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 21:31:42,459 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 21:31:42,459 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0DX7DSBH7
2025-05-27 21:31:42,460 - services.scraper - INFO - Extracted product ID from URL: B0DX7DSBH7
2025-05-27 21:31:42,460 - services.scraper - INFO - Waiting 1.26 seconds before attempt 1/5
2025-05-27 21:31:43,718 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 21:31:46,990 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 21:31:46,991 - services.scraper - INFO - Waiting 1.50 seconds before attempt 2/5
2025-05-27 21:31:48,493 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 21:31:51,882 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 21:31:51,883 - services.scraper - INFO - Waiting 2.11 seconds before attempt 3/5
2025-05-27 21:31:53,995 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 21:31:57,284 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 21:31:57,285 - services.scraper - INFO - Waiting 2.87 seconds before attempt 4/5
2025-05-27 21:32:00,152 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 21:32:03,346 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 21:32:03,347 - services.scraper - INFO - Waiting 2.54 seconds before attempt 5/5
2025-05-27 21:32:05,892 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 21:32:09,150 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 21:32:09,151 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 21:32:09,151 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0DX7DSBH7
2025-05-27 21:32:13,798 - services.scraper - INFO - Successfully extracted product name from mobile site: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 21:32:13,852 - services.scraper - INFO - Successfully scraped Amazon product: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 21:32:15,974 - services.ai_service - ERROR - Error enhancing metadata with Gemini AI: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 21:32:16,676 - services.ai_service - ERROR - Error enhancing metadata with Groq AI: 401 Client Error: Unauthorized for url: https://api.groq.com/openai/v1/chat/completions
2025-05-27 21:32:17,224 - services.ai_service - INFO - Starting product comparison for: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 21:32:17,224 - services.ai_service - INFO - Brand: HOKIPO, Model: 
2025-05-27 21:32:17,225 - services.ai_service - INFO - Extracted keywords for search: ['hokipo', 'hokipo', 'gaming', 'chair', 'cover', 'stretchable', 'elastic', 'jacquard', 'computer', 'rotating', 'chair', 'seat', 'covers', 'slipcover(dgry-new2-5008)', 'hokipo gaming chair cover stretchable elastic jacquard computer rotating chair seat covers slipcover(dgry-new2-5008)']
2025-05-27 21:32:17,226 - services.ai_service - INFO - Using optimized search query for comparison: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 21:32:19,165 - services.ai_service - WARNING - Error using Gemini for platform search: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 21:32:19,740 - services.ai_service - ERROR - Error using AI for platform search: 401 Client Error: Unauthorized for url: https://api.groq.com/openai/v1/chat/completions
2025-05-27 21:32:19,742 - services.scheduler - INFO - Found 5 potential comparisons for product 1 on other platforms.
2025-05-27 21:32:21,074 - services.flipkart_scraper - INFO - Attempting to scrape Flipkart price from: https://www.flipkart.com/search?q=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 21:32:22,630 - services.flipkart_scraper - WARNING - Could not find price element for Flipkart URL: https://www.flipkart.com/search?q=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 21:32:22,633 - services.scheduler - WARNING - Failed to scrape price from Flipkart URL: https://www.flipkart.com/search?q=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) for product 1
2025-05-27 21:32:23,797 - services.scheduler - WARNING - Failed to scrape price from Snapdeal URL: https://www.snapdeal.com/search?keyword=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) for product 1
2025-05-27 21:32:25,075 - services.scheduler - WARNING - Failed to scrape price from Reliance Digital URL: https://www.reliancedigital.in/search?q=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) for product 1
2025-05-27 21:32:26,222 - services.scheduler - WARNING - Failed to scrape price from Tata Cliq URL: https://www.tatacliq.com/search/?searchCategory=all&text=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) for product 1
2025-05-27 21:32:26,789 - services.scheduler - WARNING - Failed to scrape price from Croma URL: https://www.croma.com/searchB?q=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) for product 1
2025-05-27 21:32:26,789 - services.scheduler - ERROR - Error updating product 1 (attempt 1/3): 'recorded_at' is an invalid keyword argument for PriceRecord
2025-05-27 21:32:28,046 - services.scheduler - INFO - Retry attempt 2 for product 1 after 2.98s delay
2025-05-27 21:32:31,031 - services.scheduler - INFO - Updating prices for product: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) (ID: 1)
2025-05-27 21:32:31,031 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0DX7DSBH7
2025-05-27 21:32:31,032 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 21:32:31,032 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 21:32:31,033 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0DX7DSBH7
2025-05-27 21:32:31,033 - services.scraper - INFO - Extracted product ID from URL: B0DX7DSBH7
2025-05-27 21:32:31,034 - services.scraper - INFO - Waiting 1.79 seconds before attempt 1/5
2025-05-27 21:32:32,822 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 21:32:36,062 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 21:32:36,062 - services.scraper - INFO - Waiting 1.83 seconds before attempt 2/5
2025-05-27 21:32:37,894 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 21:32:41,312 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 21:32:41,313 - services.scraper - INFO - Waiting 1.36 seconds before attempt 3/5
2025-05-27 21:32:42,673 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 21:32:45,674 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 21:32:45,675 - services.scraper - INFO - Waiting 2.10 seconds before attempt 4/5
2025-05-27 21:32:47,780 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 21:32:50,974 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 21:32:50,975 - services.scraper - INFO - Waiting 2.97 seconds before attempt 5/5
2025-05-27 21:32:53,942 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 21:32:57,328 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 21:32:57,329 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 21:32:57,329 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0DX7DSBH7
2025-05-27 21:33:01,949 - services.scraper - INFO - Successfully extracted product name from mobile site: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 21:33:02,035 - services.scraper - INFO - Successfully scraped Amazon product: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 21:33:02,036 - services.scheduler - ERROR - Error updating main platform price for product 1: 'recorded_at' is an invalid keyword argument for PriceRecord
2025-05-27 21:33:02,038 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0DX7DSBH7
2025-05-27 21:33:02,038 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 21:33:02,039 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 21:33:02,039 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0DX7DSBH7
2025-05-27 21:33:02,039 - services.scraper - INFO - Extracted product ID from URL: B0DX7DSBH7
2025-05-27 21:33:02,040 - services.scraper - INFO - Waiting 1.18 seconds before attempt 1/5
2025-05-27 21:33:03,223 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 21:33:06,871 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 21:33:06,873 - services.scraper - INFO - Waiting 1.70 seconds before attempt 2/5
2025-05-27 21:33:08,576 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 21:33:12,330 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 21:33:12,331 - services.scraper - INFO - Waiting 2.38 seconds before attempt 3/5
2025-05-27 21:33:14,712 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 21:33:18,703 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 21:33:18,703 - services.scraper - INFO - Waiting 2.83 seconds before attempt 4/5
2025-05-27 21:33:21,530 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 21:33:25,434 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 21:33:25,435 - services.scraper - INFO - Waiting 2.24 seconds before attempt 5/5
2025-05-27 21:33:27,674 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 21:33:31,112 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 21:33:31,113 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 21:33:31,114 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0DX7DSBH7
2025-05-27 21:33:35,975 - services.scraper - INFO - Successfully extracted product name from mobile site: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 21:33:36,091 - services.scraper - INFO - Successfully scraped Amazon product: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 21:33:37,023 - services.ai_service - ERROR - Error enhancing metadata with Gemini AI: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 21:33:37,731 - services.ai_service - ERROR - Error enhancing metadata with Groq AI: 401 Client Error: Unauthorized for url: https://api.groq.com/openai/v1/chat/completions
2025-05-27 21:33:38,989 - services.ai_service - INFO - Starting product comparison for: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 21:33:38,990 - services.ai_service - INFO - Brand: HOKIPO, Model: 
2025-05-27 21:33:38,991 - services.ai_service - INFO - Extracted keywords for search: ['hokipo', 'hokipo', 'gaming', 'chair', 'cover', 'stretchable', 'elastic', 'jacquard', 'computer', 'rotating', 'chair', 'seat', 'covers', 'slipcover(dgry-new2-5008)', 'hokipo gaming chair cover stretchable elastic jacquard computer rotating chair seat covers slipcover(dgry-new2-5008)']
2025-05-27 21:33:38,991 - services.ai_service - INFO - Using optimized search query for comparison: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 21:33:41,669 - services.ai_service - WARNING - Error using Gemini for platform search: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 21:33:42,658 - services.ai_service - ERROR - Error using AI for platform search: 401 Client Error: Unauthorized for url: https://api.groq.com/openai/v1/chat/completions
2025-05-27 21:33:42,663 - services.scheduler - INFO - Found 5 potential comparisons for product 1 on other platforms.
2025-05-27 21:33:43,610 - services.flipkart_scraper - INFO - Attempting to scrape Flipkart price from: https://www.flipkart.com/search?q=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 21:33:46,706 - services.flipkart_scraper - WARNING - Could not find price element for Flipkart URL: https://www.flipkart.com/search?q=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 21:33:46,711 - services.scheduler - WARNING - Failed to scrape price from Flipkart URL: https://www.flipkart.com/search?q=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) for product 1
2025-05-27 21:33:47,433 - services.scheduler - WARNING - Failed to scrape price from Snapdeal URL: https://www.snapdeal.com/search?keyword=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) for product 1
2025-05-27 21:33:48,838 - services.scheduler - WARNING - Failed to scrape price from Reliance Digital URL: https://www.reliancedigital.in/search?q=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) for product 1
2025-05-27 21:33:49,945 - services.scheduler - WARNING - Failed to scrape price from Tata Cliq URL: https://www.tatacliq.com/search/?searchCategory=all&text=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) for product 1
2025-05-27 21:33:50,517 - services.scheduler - WARNING - Failed to scrape price from Croma URL: https://www.croma.com/searchB?q=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) for product 1
2025-05-27 21:33:50,518 - services.scheduler - ERROR - Error updating product 1 (attempt 2/3): 'recorded_at' is an invalid keyword argument for PriceRecord
2025-05-27 21:33:51,693 - services.scheduler - INFO - Retry attempt 3 for product 1 after 4.35s delay
2025-05-27 21:33:56,050 - services.scheduler - INFO - Updating prices for product: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) (ID: 1)
2025-05-27 21:33:56,051 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0DX7DSBH7
2025-05-27 21:33:56,052 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 21:33:56,053 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 21:33:56,054 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0DX7DSBH7
2025-05-27 21:33:56,055 - services.scraper - INFO - Extracted product ID from URL: B0DX7DSBH7
2025-05-27 21:33:56,055 - services.scraper - INFO - Waiting 1.41 seconds before attempt 1/5
2025-05-27 21:33:57,467 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 21:34:01,401 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 21:34:01,402 - services.scraper - INFO - Waiting 1.16 seconds before attempt 2/5
2025-05-27 21:34:02,567 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 21:34:06,740 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 21:34:06,741 - services.scraper - INFO - Waiting 2.36 seconds before attempt 3/5
2025-05-27 21:34:09,101 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 21:34:12,380 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 21:34:12,381 - services.scraper - INFO - Waiting 1.30 seconds before attempt 4/5
2025-05-27 21:34:13,680 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 21:34:17,031 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 21:34:17,032 - services.scraper - INFO - Waiting 1.83 seconds before attempt 5/5
2025-05-27 21:34:18,863 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 21:34:22,094 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 21:34:22,094 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 21:34:22,095 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0DX7DSBH7
2025-05-27 21:34:26,696 - services.scraper - INFO - Successfully extracted product name from mobile site: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 21:34:26,761 - services.scraper - INFO - Successfully scraped Amazon product: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 21:34:26,762 - services.scheduler - ERROR - Error updating main platform price for product 1: 'recorded_at' is an invalid keyword argument for PriceRecord
2025-05-27 21:34:26,763 - services.scraper - INFO - Starting scrape for URL: https://www.amazon.in/dp/B0DX7DSBH7
2025-05-27 21:34:26,764 - services.scraper - INFO - Detected domain: www.amazon.in
2025-05-27 21:34:26,764 - services.scraper - INFO - Amazon scraping attempt 1/3
2025-05-27 21:34:26,764 - services.scraper - INFO - Starting Amazon scraping for: https://www.amazon.in/dp/B0DX7DSBH7
2025-05-27 21:34:26,764 - services.scraper - INFO - Extracted product ID from URL: B0DX7DSBH7
2025-05-27 21:34:26,765 - services.scraper - INFO - Waiting 1.13 seconds before attempt 1/5
2025-05-27 21:34:27,898 - services.scraper - INFO - Sending request to Amazon (attempt 1/5) with timeout of 15 seconds
2025-05-27 21:34:30,928 - services.scraper - WARNING - Detected captcha/bot protection on attempt 1
2025-05-27 21:34:30,929 - services.scraper - INFO - Waiting 1.80 seconds before attempt 2/5
2025-05-27 21:34:32,730 - services.scraper - INFO - Sending request to Amazon (attempt 2/5) with timeout of 20 seconds
2025-05-27 21:34:36,649 - services.scraper - WARNING - Detected captcha/bot protection on attempt 2
2025-05-27 21:34:36,650 - services.scraper - INFO - Waiting 1.94 seconds before attempt 3/5
2025-05-27 21:34:38,589 - services.scraper - INFO - Sending request to Amazon (attempt 3/5) with timeout of 25 seconds
2025-05-27 21:34:42,370 - services.scraper - WARNING - Detected captcha/bot protection on attempt 3
2025-05-27 21:34:42,371 - services.scraper - INFO - Waiting 1.09 seconds before attempt 4/5
2025-05-27 21:34:43,460 - services.scraper - INFO - Sending request to Amazon (attempt 4/5) with timeout of 30 seconds
2025-05-27 21:34:47,320 - services.scraper - WARNING - Detected captcha/bot protection on attempt 4
2025-05-27 21:34:47,321 - services.scraper - INFO - Waiting 3.89 seconds before attempt 5/5
2025-05-27 21:34:51,217 - services.scraper - INFO - Sending request to Amazon (attempt 5/5) with timeout of 35 seconds
2025-05-27 21:34:55,054 - services.scraper - WARNING - Detected captcha/bot protection on attempt 5
2025-05-27 21:34:55,055 - services.scraper - WARNING - All standard scraping attempts failed, trying aggressive fallback methods
2025-05-27 21:34:55,057 - services.scraper - INFO - Trying mobile URL: https://www.amazon.in/gp/aw/d/B0DX7DSBH7
2025-05-27 21:35:00,908 - services.scraper - INFO - Successfully extracted product name from mobile site: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 21:35:01,032 - services.scraper - INFO - Successfully scraped Amazon product: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 21:35:03,468 - services.ai_service - ERROR - Error enhancing metadata with Gemini AI: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 21:35:04,648 - services.ai_service - ERROR - Error enhancing metadata with Groq AI: 401 Client Error: Unauthorized for url: https://api.groq.com/openai/v1/chat/completions
2025-05-27 21:35:05,447 - services.ai_service - INFO - Starting product comparison for: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 21:35:05,449 - services.ai_service - INFO - Brand: HOKIPO, Model: 
2025-05-27 21:35:05,450 - services.ai_service - INFO - Extracted keywords for search: ['hokipo', 'hokipo', 'gaming', 'chair', 'cover', 'stretchable', 'elastic', 'jacquard', 'computer', 'rotating', 'chair', 'seat', 'covers', 'slipcover(dgry-new2-5008)', 'hokipo gaming chair cover stretchable elastic jacquard computer rotating chair seat covers slipcover(dgry-new2-5008)']
2025-05-27 21:35:05,451 - services.ai_service - INFO - Using optimized search query for comparison: HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 21:35:06,917 - services.ai_service - WARNING - Error using Gemini for platform search: 404 Client Error: Not Found for url: https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyDle9KLhixAi5Q9vkS4p0R8s-jLC75RXEI
2025-05-27 21:35:07,995 - services.ai_service - ERROR - Error using AI for platform search: 401 Client Error: Unauthorized for url: https://api.groq.com/openai/v1/chat/completions
2025-05-27 21:35:07,999 - services.scheduler - INFO - Found 5 potential comparisons for product 1 on other platforms.
2025-05-27 21:35:09,312 - services.flipkart_scraper - INFO - Attempting to scrape Flipkart price from: https://www.flipkart.com/search?q=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 21:35:11,167 - services.flipkart_scraper - WARNING - Could not find price element for Flipkart URL: https://www.flipkart.com/search?q=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008)
2025-05-27 21:35:11,170 - services.scheduler - WARNING - Failed to scrape price from Flipkart URL: https://www.flipkart.com/search?q=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) for product 1
2025-05-27 21:35:11,896 - services.scheduler - WARNING - Failed to scrape price from Snapdeal URL: https://www.snapdeal.com/search?keyword=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) for product 1
2025-05-27 21:35:13,084 - services.scheduler - WARNING - Failed to scrape price from Reliance Digital URL: https://www.reliancedigital.in/search?q=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) for product 1
2025-05-27 21:35:13,995 - services.scheduler - WARNING - Failed to scrape price from Tata Cliq URL: https://www.tatacliq.com/search/?searchCategory=all&text=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) for product 1
2025-05-27 21:35:14,605 - services.scheduler - WARNING - Failed to scrape price from Croma URL: https://www.croma.com/searchB?q=HOKIPO Gaming Chair Cover Stretchable Elastic Jacquard Computer Rotating Chair Seat Covers Slipcover(DGRY-NEW2-5008) for product 1
2025-05-27 21:35:14,606 - services.scheduler - ERROR - Error updating product 1 (attempt 3/3): 'recorded_at' is an invalid keyword argument for PriceRecord
2025-05-27 21:35:15,744 - services.scheduler - ERROR - Failed to update product 1 after 3 attempts
2025-05-27 21:35:15,746 - services.scheduler - INFO - Completed scheduled price update in 251.20 seconds
2025-05-27 21:35:15,746 - services.scheduler - INFO - Results: 0 successful updates, 1 failures out of 1 products
2025-05-27 21:35:16,026 - apscheduler.executors.default - INFO - Job "update_all_prices (trigger: interval[0:30:00], next run at: 2025-05-27 22:01:04 IST)" executed successfully
2025-05-27 21:49:35,558 - __main__ - INFO - CORS configured for specific origins: ['http://localhost:5174', 'http://localhost:5173', 'https://pricepulse-frontend.vercel.app']
2025-05-27 21:49:35,901 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 21:49:35,915 - apscheduler.scheduler - INFO - Added job "Update product prices" to job store "default"
2025-05-27 21:51:24,955 - __main__ - INFO - CORS configured for specific origins: ['http://localhost:5174', 'http://localhost:5173', 'https://pricepulse-frontend.vercel.app']
2025-05-27 21:51:25,050 - apscheduler.scheduler - INFO - Scheduler started
2025-05-27 21:51:25,058 - apscheduler.scheduler - INFO - Added job "Update product prices" to job store "default"
2025-05-27 21:51:25,096 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.127.187:5000
2025-05-27 21:51:25,097 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
